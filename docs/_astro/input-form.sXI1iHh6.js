import{j as J}from"./jsx-runtime.G4i-1Giy.js";import{R as Oe}from"./index.UCAuQZPX.js";var pr=t=>t.type==="checkbox",Ct=t=>t instanceof Date,_e=t=>t==null;const ni=t=>typeof t=="object";var de=t=>!_e(t)&&!Array.isArray(t)&&ni(t)&&!Ct(t),ca=t=>de(t)&&t.target?pr(t.target)?t.target.checked:t.target.value:t,la=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,da=(t,e)=>t.has(la(e)),fa=t=>{const e=t.constructor&&t.constructor.prototype;return de(e)&&e.hasOwnProperty("isPrototypeOf")},ns=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Te(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ns&&(t instanceof Blob||t instanceof FileList))&&(r||de(t)))if(e=r?[]:{},!r&&!fa(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Te(t[n]));else return t;return e}var mr=t=>Array.isArray(t)?t.filter(Boolean):[],oe=t=>t===void 0,N=(t,e,r)=>{if(!e||!de(t))return r;const n=mr(e.split(/[,[\].]+?/)).reduce((s,i)=>_e(s)?s:s[i],t);return oe(n)||n===t?oe(t[e])?r:t[e]:n},$e=t=>typeof t=="boolean";const Cs={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ce={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Oe.createContext(null);var ha=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Ce.all&&(e._proxyFormState[a]=!n||Ce.all),r&&(r[a]=!0),t[a]}});return s},Se=t=>de(t)&&!Object.keys(t).length,pa=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Se(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||Ce.all))},mn=t=>Array.isArray(t)?t:[t];function ma(t){const e=Oe.useRef(t);e.current=t,Oe.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Me=t=>typeof t=="string",ya=(t,e,r,n,s)=>Me(t)?(n&&e.watch.add(t),N(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),N(r,i))):(n&&(e.watchAll=!0),r),ss=t=>/^\w*$/.test(t),si=t=>mr(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Q=(t,e,r)=>{let n=-1;const s=ss(e)?[e]:si(e),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const c=t[o];u=de(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}t[o]=u,t=t[o]}return t},ii=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Rs=t=>({isOnSubmit:!t||t===Ce.onSubmit,isOnBlur:t===Ce.onBlur,isOnChange:t===Ce.onChange,isOnAll:t===Ce.all,isOnTouch:t===Ce.onTouched}),js=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const $t=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=N(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)break;if(a.ref&&e(a.ref,a.name)&&!n)break;$t(o,e)}else de(o)&&$t(o,e)}}};var ga=(t,e,r)=>{const n=mr(N(t,r));return Q(n,"root",e[r]),Q(t,r,n),t},is=t=>t.type==="file",nt=t=>typeof t=="function",Vr=t=>{if(!ns)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ar=t=>Me(t),as=t=>t.type==="radio",Mr=t=>t instanceof RegExp;const Ps={value:!1,isValid:!1},Is={value:!0,isValid:!0};var ai=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!oe(t[0].attributes.value)?oe(t[0].value)||t[0].value===""?Is:{value:t[0].value,isValid:!0}:Is:Ps}return Ps};const Ds={isValid:!1,value:null};var oi=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Ds):Ds;function Ns(t,e,r="validate"){if(Ar(t)||Array.isArray(t)&&t.every(Ar)||$e(t)&&!t)return{type:r,message:Ar(t)?t:"",ref:e}}var Et=t=>de(t)&&!Mr(t)?t:{value:t,message:""},Vs=async(t,e,r,n,s)=>{const{ref:i,refs:a,required:o,maxLength:u,minLength:c,min:l,max:h,pattern:d,validate:m,name:b,valueAsNumber:v,mount:w,disabled:g}=t._f,p=N(e,b);if(!w||g)return{};const k=a?a[0]:i,O=L=>{n&&k.reportValidity&&(k.setCustomValidity($e(L)?"":L||""),k.reportValidity())},E={},R=as(i),T=pr(i),z=R||T,A=(v||is(i))&&oe(i.value)&&oe(p)||Vr(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,Y=ii.bind(null,b,r,E),H=(L,B,$,ae=Fe.maxLength,ce=Fe.minLength)=>{const te=L?B:$;E[b]={type:L?ae:ce,message:te,ref:i,...Y(L?ae:ce,te)}};if(s?!Array.isArray(p)||!p.length:o&&(!z&&(A||_e(p))||$e(p)&&!p||T&&!ai(a).isValid||R&&!oi(a).isValid)){const{value:L,message:B}=Ar(o)?{value:!!o,message:o}:Et(o);if(L&&(E[b]={type:Fe.required,message:B,ref:k,...Y(Fe.required,B)},!r))return O(B),E}if(!A&&(!_e(l)||!_e(h))){let L,B;const $=Et(h),ae=Et(l);if(!_e(p)&&!isNaN(p)){const ce=i.valueAsNumber||p&&+p;_e($.value)||(L=ce>$.value),_e(ae.value)||(B=ce<ae.value)}else{const ce=i.valueAsDate||new Date(p),te=Qe=>new Date(new Date().toDateString()+" "+Qe),ve=i.type=="time",Ae=i.type=="week";Me($.value)&&p&&(L=ve?te(p)>te($.value):Ae?p>$.value:ce>new Date($.value)),Me(ae.value)&&p&&(B=ve?te(p)<te(ae.value):Ae?p<ae.value:ce<new Date(ae.value))}if((L||B)&&(H(!!L,$.message,ae.message,Fe.max,Fe.min),!r))return O(E[b].message),E}if((u||c)&&!A&&(Me(p)||s&&Array.isArray(p))){const L=Et(u),B=Et(c),$=!_e(L.value)&&p.length>+L.value,ae=!_e(B.value)&&p.length<+B.value;if(($||ae)&&(H($,L.message,B.message),!r))return O(E[b].message),E}if(d&&!A&&Me(p)){const{value:L,message:B}=Et(d);if(Mr(L)&&!p.match(L)&&(E[b]={type:Fe.pattern,message:B,ref:i,...Y(Fe.pattern,B)},!r))return O(B),E}if(m){if(nt(m)){const L=await m(p,e),B=Ns(L,k);if(B&&(E[b]={...B,...Y(Fe.validate,B.message)},!r))return O(B.message),E}else if(de(m)){let L={};for(const B in m){if(!Se(L)&&!r)break;const $=Ns(await m[B](p,e),k,B);$&&(L={...$,...Y(B,$.message)},O($.message),r&&(E[b]=L))}if(!Se(L)&&(E[b]={ref:k,...L},!r))return E}}return O(!0),E};function va(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=oe(t)?n++:t[e[n++]];return t}function _a(t){for(const e in t)if(t.hasOwnProperty(e)&&!oe(t[e]))return!1;return!0}function pe(t,e){const r=Array.isArray(e)?e:ss(e)?[e]:si(e),n=r.length===1?t:va(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(de(n)&&Se(n)||Array.isArray(n)&&_a(n))&&pe(t,r.slice(0,-1)),t}var yn=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Br=t=>_e(t)||!ni(t);function dt(t,e){if(Br(t)||Br(e))return t===e;if(Ct(t)&&Ct(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Ct(i)&&Ct(a)||de(i)&&de(a)||Array.isArray(i)&&Array.isArray(a)?!dt(i,a):i!==a)return!1}}return!0}var ui=t=>t.type==="select-multiple",ba=t=>as(t)||pr(t),gn=t=>Vr(t)&&t.isConnected,ci=t=>{for(const e in t)if(nt(t[e]))return!0;return!1};function Zr(t,e={}){const r=Array.isArray(t);if(de(t)||r)for(const n in t)Array.isArray(t[n])||de(t[n])&&!ci(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zr(t[n],e[n])):_e(t[n])||(e[n]=!0);return e}function li(t,e,r){const n=Array.isArray(t);if(de(t)||n)for(const s in t)Array.isArray(t[s])||de(t[s])&&!ci(t[s])?oe(e)||Br(r[s])?r[s]=Array.isArray(t[s])?Zr(t[s],[]):{...Zr(t[s])}:li(t[s],_e(e)?{}:e[s],r[s]):r[s]=!dt(t[s],e[s]);return r}var vn=(t,e)=>li(t,e,Zr(e)),di=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>oe(t)?t:e?t===""?NaN:t&&+t:r&&Me(t)?new Date(t):n?n(t):t;function _n(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return is(e)?e.files:as(e)?oi(t.refs).value:ui(e)?[...e.selectedOptions].map(({value:r})=>r):pr(e)?ai(t.refs).value:di(oe(e.value)?t.ref.value:e.value,t)}var wa=(t,e,r,n)=>{const s={};for(const i of t){const a=N(e,i);a&&Q(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Zt=t=>oe(t)?t:Mr(t)?t.source:de(t)?Mr(t.value)?t.value.source:t.value:t,xa=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Ms(t,e,r){const n=N(t,r);if(n||ss(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=N(e,i),o=N(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:r}}var ka=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,Ea=(t,e)=>!mr(N(t,e)).length&&pe(t,e);const Ta={mode:Ce.onSubmit,reValidateMode:Ce.onChange,shouldFocusError:!0};function Sa(t={},e){let r={...Ta,...t},n={submitCount:0,isDirty:!1,isLoading:nt(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},i=de(r.defaultValues)||de(r.values)?Te(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:Te(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:yn(),array:yn(),state:yn()},m=Rs(r.mode),b=Rs(r.reValidateMode),v=r.criteriaMode===Ce.all,w=f=>y=>{clearTimeout(l),l=setTimeout(f,y)},g=async f=>{if(h.isValid||f){const y=r.resolver?Se((await A()).errors):await H(s,!0);y!==n.isValid&&d.state.next({isValid:y})}},p=f=>h.isValidating&&d.state.next({isValidating:f}),k=(f,y=[],_,D,C=!0,S=!0)=>{if(D&&_){if(o.action=!0,S&&Array.isArray(N(s,f))){const Z=_(N(s,f),D.argA,D.argB);C&&Q(s,f,Z)}if(S&&Array.isArray(N(n.errors,f))){const Z=_(N(n.errors,f),D.argA,D.argB);C&&Q(n.errors,f,Z),Ea(n.errors,f)}if(h.touchedFields&&S&&Array.isArray(N(n.touchedFields,f))){const Z=_(N(n.touchedFields,f),D.argA,D.argB);C&&Q(n.touchedFields,f,Z)}h.dirtyFields&&(n.dirtyFields=vn(i,a)),d.state.next({name:f,isDirty:B(f,y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Q(a,f,y)},O=(f,y)=>{Q(n.errors,f,y),d.state.next({errors:n.errors})},E=f=>{n.errors=f,d.state.next({errors:n.errors,isValid:!1})},R=(f,y,_,D)=>{const C=N(s,f);if(C){const S=N(a,f,oe(_)?N(i,f):_);oe(S)||D&&D.defaultChecked||y?Q(a,f,y?S:_n(C._f)):ce(f,S),o.mount&&g()}},T=(f,y,_,D,C)=>{let S=!1,Z=!1;const ee={name:f},fe=!!(N(s,f)&&N(s,f)._f.disabled);if(!_||D){h.isDirty&&(Z=n.isDirty,n.isDirty=ee.isDirty=B(),S=Z!==ee.isDirty);const Ne=fe||dt(N(i,f),y);Z=!!(!fe&&N(n.dirtyFields,f)),Ne||fe?pe(n.dirtyFields,f):Q(n.dirtyFields,f,!0),ee.dirtyFields=n.dirtyFields,S=S||h.dirtyFields&&Z!==!Ne}if(_){const Ne=N(n.touchedFields,f);Ne||(Q(n.touchedFields,f,_),ee.touchedFields=n.touchedFields,S=S||h.touchedFields&&Ne!==_)}return S&&C&&d.state.next(ee),S?ee:{}},z=(f,y,_,D)=>{const C=N(n.errors,f),S=h.isValid&&$e(y)&&n.isValid!==y;if(t.delayError&&_?(c=w(()=>O(f,_)),c(t.delayError)):(clearTimeout(l),c=null,_?Q(n.errors,f,_):pe(n.errors,f)),(_?!dt(C,_):C)||!Se(D)||S){const Z={...D,...S&&$e(y)?{isValid:y}:{},errors:n.errors,name:f};n={...n,...Z},d.state.next(Z)}p(!1)},A=async f=>r.resolver(a,r.context,wa(f||u.mount,s,r.criteriaMode,r.shouldUseNativeValidation)),Y=async f=>{const{errors:y}=await A(f);if(f)for(const _ of f){const D=N(y,_);D?Q(n.errors,_,D):pe(n.errors,_)}else n.errors=y;return y},H=async(f,y,_={valid:!0})=>{for(const D in f){const C=f[D];if(C){const{_f:S,...Z}=C;if(S){const ee=u.array.has(S.name),fe=await Vs(C,a,v,r.shouldUseNativeValidation&&!y,ee);if(fe[S.name]&&(_.valid=!1,y))break;!y&&(N(fe,S.name)?ee?ga(n.errors,fe,S.name):Q(n.errors,S.name,fe[S.name]):pe(n.errors,S.name))}Z&&await H(Z,y,_)}}return _.valid},L=()=>{for(const f of u.unMount){const y=N(s,f);y&&(y._f.refs?y._f.refs.every(_=>!gn(_)):!gn(y._f.ref))&&dn(f)}u.unMount=new Set},B=(f,y)=>(f&&y&&Q(a,f,y),!dt(_s(),i)),$=(f,y,_)=>ya(f,u,{...o.mount?a:oe(y)?i:Me(f)?{[f]:y}:y},_,y),ae=f=>mr(N(o.mount?a:i,f,t.shouldUnregister?N(i,f,[]):[])),ce=(f,y,_={})=>{const D=N(s,f);let C=y;if(D){const S=D._f;S&&(!S.disabled&&Q(a,f,di(y,S)),C=Vr(S.ref)&&_e(y)?"":y,ui(S.ref)?[...S.ref.options].forEach(Z=>Z.selected=C.includes(Z.value)):S.refs?pr(S.ref)?S.refs.length>1?S.refs.forEach(Z=>(!Z.defaultChecked||!Z.disabled)&&(Z.checked=Array.isArray(C)?!!C.find(ee=>ee===Z.value):C===Z.value)):S.refs[0]&&(S.refs[0].checked=!!C):S.refs.forEach(Z=>Z.checked=Z.value===C):is(S.ref)?S.ref.value="":(S.ref.value=C,S.ref.type||d.values.next({name:f,values:{...a}})))}(_.shouldDirty||_.shouldTouch)&&T(f,C,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&ln(f)},te=(f,y,_)=>{for(const D in y){const C=y[D],S=`${f}.${D}`,Z=N(s,S);(u.array.has(f)||!Br(C)||Z&&!Z._f)&&!Ct(C)?te(S,C,_):ce(S,C,_)}},ve=(f,y,_={})=>{const D=N(s,f),C=u.array.has(f),S=Te(y);Q(a,f,S),C?(d.array.next({name:f,values:{...a}}),(h.isDirty||h.dirtyFields)&&_.shouldDirty&&d.state.next({name:f,dirtyFields:vn(i,a),isDirty:B(f,S)})):D&&!D._f&&!_e(S)?te(f,S,_):ce(f,S,_),js(f,u)&&d.state.next({...n}),d.values.next({name:f,values:{...a}}),!o.mount&&e()},Ae=async f=>{const y=f.target;let _=y.name,D=!0;const C=N(s,_),S=()=>y.type?_n(C._f):ca(f),Z=ee=>{D=Number.isNaN(ee)||ee===N(a,_,ee)};if(C){let ee,fe;const Ne=S(),kt=f.type===Cs.BLUR||f.type===Cs.FOCUS_OUT,aa=!xa(C._f)&&!r.resolver&&!N(n.errors,_)&&!C._f.deps||ka(kt,N(n.touchedFields,_),n.isSubmitted,b,m),hn=js(_,u,kt);Q(a,_,Ne),kt?(C._f.onBlur&&C._f.onBlur(f),c&&c(0)):C._f.onChange&&C._f.onChange(f);const pn=T(_,Ne,kt,!1),oa=!Se(pn)||hn;if(!kt&&d.values.next({name:_,type:f.type,values:{...a}}),aa)return h.isValid&&g(),oa&&d.state.next({name:_,...hn?{}:pn});if(!kt&&hn&&d.state.next({...n}),p(!0),r.resolver){const{errors:As}=await A([_]);if(Z(Ne),D){const ua=Ms(n.errors,s,_),Os=Ms(As,s,ua.name||_);ee=Os.error,_=Os.name,fe=Se(As)}}else ee=(await Vs(C,a,v,r.shouldUseNativeValidation))[_],Z(Ne),D&&(ee?fe=!1:h.isValid&&(fe=await H(s,!0)));D&&(C._f.deps&&ln(C._f.deps),z(_,fe,ee,pn))}},Qe=(f,y)=>{if(N(n.errors,y)&&f.focus)return f.focus(),1},ln=async(f,y={})=>{let _,D;const C=mn(f);if(p(!0),r.resolver){const S=await Y(oe(f)?f:C);_=Se(S),D=f?!C.some(Z=>N(S,Z)):_}else f?(D=(await Promise.all(C.map(async S=>{const Z=N(s,S);return await H(Z&&Z._f?{[S]:Z}:Z)}))).every(Boolean),!(!D&&!n.isValid)&&g()):D=_=await H(s);return d.state.next({...!Me(f)||h.isValid&&_!==n.isValid?{}:{name:f},...r.resolver||!f?{isValid:_}:{},errors:n.errors,isValidating:!1}),y.shouldFocus&&!D&&$t(s,Qe,f?C:u.mount),D},_s=f=>{const y={...i,...o.mount?a:{}};return oe(f)?y:Me(f)?N(y,f):f.map(_=>N(y,_))},bs=(f,y)=>({invalid:!!N((y||n).errors,f),isDirty:!!N((y||n).dirtyFields,f),isTouched:!!N((y||n).touchedFields,f),error:N((y||n).errors,f)}),ra=f=>{f&&mn(f).forEach(y=>pe(n.errors,y)),d.state.next({errors:f?n.errors:{}})},ws=(f,y,_)=>{const D=(N(s,f,{_f:{}})._f||{}).ref;Q(n.errors,f,{...y,ref:D}),d.state.next({name:f,errors:n.errors,isValid:!1}),_&&_.shouldFocus&&D&&D.focus&&D.focus()},na=(f,y)=>nt(f)?d.values.subscribe({next:_=>f($(void 0,y),_)}):$(f,y,!0),dn=(f,y={})=>{for(const _ of f?mn(f):u.mount)u.mount.delete(_),u.array.delete(_),y.keepValue||(pe(s,_),pe(a,_)),!y.keepError&&pe(n.errors,_),!y.keepDirty&&pe(n.dirtyFields,_),!y.keepTouched&&pe(n.touchedFields,_),!r.shouldUnregister&&!y.keepDefaultValue&&pe(i,_);d.values.next({values:{...a}}),d.state.next({...n,...y.keepDirty?{isDirty:B()}:{}}),!y.keepIsValid&&g()},xs=({disabled:f,name:y,field:_,fields:D,value:C})=>{if($e(f)){const S=f?void 0:oe(C)?_n(_?_._f:N(D,y)._f):C;Q(a,y,S),T(y,S,!1,!1,!0)}},fn=(f,y={})=>{let _=N(s,f);const D=$e(y.disabled);return Q(s,f,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:f}},name:f,mount:!0,...y}}),u.mount.add(f),_?xs({field:_,disabled:y.disabled,name:f,value:y.value}):R(f,!0,y.value),{...D?{disabled:y.disabled}:{},...r.progressive?{required:!!y.required,min:Zt(y.min),max:Zt(y.max),minLength:Zt(y.minLength),maxLength:Zt(y.maxLength),pattern:Zt(y.pattern)}:{},name:f,onChange:Ae,onBlur:Ae,ref:C=>{if(C){fn(f,y),_=N(s,f);const S=oe(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,Z=ba(S),ee=_._f.refs||[];if(Z?ee.find(fe=>fe===S):S===_._f.ref)return;Q(s,f,{_f:{..._._f,...Z?{refs:[...ee.filter(gn),S,...Array.isArray(N(i,f))?[{}]:[]],ref:{type:S.type,name:f}}:{ref:S}}}),R(f,!1,void 0,S)}else _=N(s,f,{}),_._f&&(_._f.mount=!1),(r.shouldUnregister||y.shouldUnregister)&&!(da(u.array,f)&&o.action)&&u.unMount.add(f)}}},ks=()=>r.shouldFocusError&&$t(s,Qe,u.mount),sa=f=>{$e(f)&&(d.state.next({disabled:f}),$t(s,(y,_)=>{let D=f;const C=N(s,_);C&&$e(C._f.disabled)&&(D||(D=C._f.disabled)),y.disabled=D},0,!1))},Es=(f,y)=>async _=>{_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let D=Te(a);if(d.state.next({isSubmitting:!0}),r.resolver){const{errors:C,values:S}=await A();n.errors=C,D=S}else await H(s);pe(n.errors,"root"),Se(n.errors)?(d.state.next({errors:{}}),await f(D,_)):(y&&await y({...n.errors},_),ks(),setTimeout(ks)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Se(n.errors),submitCount:n.submitCount+1,errors:n.errors})},ia=(f,y={})=>{N(s,f)&&(oe(y.defaultValue)?ve(f,Te(N(i,f))):(ve(f,y.defaultValue),Q(i,f,Te(y.defaultValue))),y.keepTouched||pe(n.touchedFields,f),y.keepDirty||(pe(n.dirtyFields,f),n.isDirty=y.defaultValue?B(f,Te(N(i,f))):B()),y.keepError||(pe(n.errors,f),h.isValid&&g()),d.state.next({...n}))},Ts=(f,y={})=>{const _=f?Te(f):i,D=Te(_),C=f&&!Se(f)?D:i;if(y.keepDefaultValues||(i=_),!y.keepValues){if(y.keepDirtyValues)for(const S of u.mount)N(n.dirtyFields,S)?Q(C,S,N(a,S)):ve(S,N(C,S));else{if(ns&&oe(f))for(const S of u.mount){const Z=N(s,S);if(Z&&Z._f){const ee=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(Vr(ee)){const fe=ee.closest("form");if(fe){fe.reset();break}}}}s={}}a=t.shouldUnregister?y.keepDefaultValues?Te(i):{}:Te(C),d.array.next({values:{...C}}),d.values.next({values:{...C}})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!o.mount&&e(),o.mount=!h.isValid||!!y.keepIsValid,o.watch=!!t.shouldUnregister,d.state.next({submitCount:y.keepSubmitCount?n.submitCount:0,isDirty:y.keepDirty?n.isDirty:!!(y.keepDefaultValues&&!dt(f,i)),isSubmitted:y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:y.keepDirtyValues?n.dirtyFields:y.keepDefaultValues&&f?vn(i,f):{},touchedFields:y.keepTouched?n.touchedFields:{},errors:y.keepErrors?n.errors:{},isSubmitSuccessful:y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ss=(f,y)=>Ts(nt(f)?f(a):f,y);return{control:{register:fn,unregister:dn,getFieldState:bs,handleSubmit:Es,setError:ws,_executeSchema:A,_getWatch:$,_getDirty:B,_updateValid:g,_removeUnmounted:L,_updateFieldArray:k,_updateDisabledField:xs,_getFieldArray:ae,_reset:Ts,_resetDefaultValues:()=>nt(r.defaultValues)&&r.defaultValues().then(f=>{Ss(f,r.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:f=>{n={...n,...f}},_disableForm:sa,_subjects:d,_proxyFormState:h,_setErrors:E,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(f){o=f},get _defaultValues(){return i},get _names(){return u},set _names(f){u=f},get _formState(){return n},set _formState(f){n=f},get _options(){return r},set _options(f){r={...r,...f}}},trigger:ln,register:fn,handleSubmit:Es,watch:na,setValue:ve,getValues:_s,reset:Ss,resetField:ia,clearErrors:ra,unregister:dn,setError:ws,setFocus:(f,y={})=>{const _=N(s,f),D=_&&_._f;if(D){const C=D.refs?D.refs[0]:D.ref;C.focus&&(C.focus(),y.shouldSelect&&C.select())}},getFieldState:bs}}function Aa(t={}){const e=Oe.useRef(),r=Oe.useRef(),[n,s]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:nt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:nt(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Sa(t,()=>s(a=>({...a}))),formState:n});const i=e.current.control;return i._options=t,ma({subject:i._subjects.state,next:a=>{pa(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Oe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Oe.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Oe.useEffect(()=>{t.values&&!dt(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),Oe.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Oe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=ha(n,i),e.current}var G;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(G||(G={}));var On;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(On||(On={}));const j=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tt=t=>{switch(typeof t){case"undefined":return j.undefined;case"string":return j.string;case"number":return isNaN(t)?j.nan:j.number;case"boolean":return j.boolean;case"function":return j.function;case"bigint":return j.bigint;case"symbol":return j.symbol;case"object":return Array.isArray(t)?j.array:t===null?j.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?j.promise:typeof Map<"u"&&t instanceof Map?j.map:typeof Set<"u"&&t instanceof Set?j.set:typeof Date<"u"&&t instanceof Date?j.date:j.object;default:return j.unknown}},x=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Oa=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class je extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}je.create=t=>new je(t);const Gt=(t,e)=>{let r;switch(t.code){case x.invalid_type:t.received===j.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case x.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,G.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:r=`Unrecognized key(s) in object: ${G.joinValues(t.keys,", ")}`;break;case x.invalid_union:r="Invalid input";break;case x.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${G.joinValues(t.options)}`;break;case x.invalid_enum_value:r=`Invalid enum value. Expected ${G.joinValues(t.options)}, received '${t.received}'`;break;case x.invalid_arguments:r="Invalid function arguments";break;case x.invalid_return_type:r="Invalid function return type";break;case x.invalid_date:r="Invalid date";break;case x.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:G.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case x.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case x.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case x.custom:r="Invalid input";break;case x.invalid_intersection_types:r="Intersection results could not be merged";break;case x.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case x.not_finite:r="Number must be finite";break;default:r=e.defaultError,G.assertNever(t)}return{message:r}};let fi=Gt;function Ca(t){fi=t}function Kr(){return fi}const Fr=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};let o="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)o=c(a,{data:e,defaultError:o}).message;return{...s,path:i,message:s.message||o}},Ra=[];function P(t,e){const r=Fr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Kr(),Gt].filter(n=>!!n)});t.common.issues.push(r)}class ge{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return U;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r)n.push({key:await s.key,value:await s.value});return ge.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return U;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const U=Object.freeze({status:"aborted"}),hi=t=>({status:"dirty",value:t}),we=t=>({status:"valid",value:t}),Cn=t=>t.status==="aborted",Rn=t=>t.status==="dirty",Yt=t=>t.status==="valid",Lr=t=>typeof Promise<"u"&&t instanceof Promise;var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(V||(V={}));class Be{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Bs=(t,e)=>{if(Yt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new je(t.common.issues);return this._error=r,this._error}}};function q(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>a.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:r??o.defaultError},description:s}}class W{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return tt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ge,ctx:{common:e.parent.common,data:e.data,parsedType:tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Lr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tt(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Bs(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tt(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Lr(s)?s:Promise.resolve(s));return Bs(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:x.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new De({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return We.create(this,this._def)}nullable(){return _t.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pe.create(this,this._def)}promise(){return Nt.create(this,this._def)}or(e){return er.create([this,e],this._def)}and(e){return tr.create(this,e,this._def)}transform(e){return new De({...q(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new ar({...q(this._def),innerType:this,defaultValue:r,typeName:K.ZodDefault})}brand(){return new mi({typeName:K.ZodBranded,type:this,...q(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new zr({...q(this._def),innerType:this,catchValue:r,typeName:K.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return yr.create(this,e)}readonly(){return Hr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ja=/^c[^\s-]{8,}$/i,Pa=/^[a-z][a-z0-9]*$/,Ia=/^[0-9A-HJKMNP-TV-Z]{26}$/,Da=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Na=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Va="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bn;const Ma=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ba=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Za=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ka(t,e){return!!((e==="v4"||!e)&&Ma.test(t)||(e==="v6"||!e)&&Ba.test(t))}class Re extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==j.string){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:j.string,received:i.parsedType}),U}const n=new ge;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:x.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:x.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?P(s,{code:x.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&P(s,{code:x.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Na.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"email",code:x.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")bn||(bn=new RegExp(Va,"u")),bn.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"emoji",code:x.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Da.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"uuid",code:x.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")ja.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"cuid",code:x.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Pa.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"cuid2",code:x.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Ia.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"ulid",code:x.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),P(s,{validation:"url",code:x.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"regex",code:x.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),P(s,{code:x.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),P(s,{code:x.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),P(s,{code:x.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Za(i).test(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:x.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?Ka(e.data,i.version)||(s=this._getOrReturnCtx(e,s),P(s,{validation:"ip",code:x.invalid_string,message:i.message}),n.dirty()):G.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:x.invalid_string,...V.errToObj(n)})}_addCheck(e){return new Re({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...V.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...V.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...V.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...V.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...V.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...V.errToObj(r)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new Re({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Re({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Re({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Re.create=t=>{var e;return new Re({checks:[],typeName:K.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...q(t)})};function Fa(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class st extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==j.number){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:j.number,received:i.parsedType}),U}let n;const s=new ge;for(const i of this._def.checks)i.kind==="int"?G.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:x.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:x.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:x.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Fa(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),P(n,{code:x.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:x.not_finite,message:i.message}),s.dirty()):G.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,V.toString(r))}gt(e,r){return this.setLimit("min",e,!1,V.toString(r))}lte(e,r){return this.setLimit("max",e,!0,V.toString(r))}lt(e,r){return this.setLimit("max",e,!1,V.toString(r))}setLimit(e,r,n,s){return new st({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:V.toString(s)}]})}_addCheck(e){return new st({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&G.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}st.create=t=>new st({checks:[],typeName:K.ZodNumber,coerce:t?.coerce||!1,...q(t)});class it extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==j.bigint){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:j.bigint,received:i.parsedType}),U}let n;const s=new ge;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:x.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),P(n,{code:x.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),P(n,{code:x.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):G.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,V.toString(r))}gt(e,r){return this.setLimit("min",e,!1,V.toString(r))}lte(e,r){return this.setLimit("max",e,!0,V.toString(r))}lt(e,r){return this.setLimit("max",e,!1,V.toString(r))}setLimit(e,r,n,s){return new it({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:V.toString(s)}]})}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}it.create=t=>{var e;return new it({checks:[],typeName:K.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...q(t)})};class Jt extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==j.boolean){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:j.boolean,received:n.parsedType}),U}return we(e.data)}}Jt.create=t=>new Jt({typeName:K.ZodBoolean,coerce:t?.coerce||!1,...q(t)});class gt extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==j.date){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:j.date,received:i.parsedType}),U}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_date}),U}const n=new ge;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:x.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),P(s,{code:x.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):G.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}gt.create=t=>new gt({checks:[],coerce:t?.coerce||!1,typeName:K.ZodDate,...q(t)});class $r extends W{_parse(e){if(this._getType(e)!==j.symbol){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:j.symbol,received:n.parsedType}),U}return we(e.data)}}$r.create=t=>new $r({typeName:K.ZodSymbol,...q(t)});class Qt extends W{_parse(e){if(this._getType(e)!==j.undefined){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:j.undefined,received:n.parsedType}),U}return we(e.data)}}Qt.create=t=>new Qt({typeName:K.ZodUndefined,...q(t)});class Xt extends W{_parse(e){if(this._getType(e)!==j.null){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:j.null,received:n.parsedType}),U}return we(e.data)}}Xt.create=t=>new Xt({typeName:K.ZodNull,...q(t)});class Dt extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return we(e.data)}}Dt.create=t=>new Dt({typeName:K.ZodAny,...q(t)});class ht extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return we(e.data)}}ht.create=t=>new ht({typeName:K.ZodUnknown,...q(t)});class Ye extends W{_parse(e){const r=this._getOrReturnCtx(e);return P(r,{code:x.invalid_type,expected:j.never,received:r.parsedType}),U}}Ye.create=t=>new Ye({typeName:K.ZodNever,...q(t)});class Ur extends W{_parse(e){if(this._getType(e)!==j.undefined){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:j.void,received:n.parsedType}),U}return we(e.data)}}Ur.create=t=>new Ur({typeName:K.ZodVoid,...q(t)});class Pe extends W{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==j.array)return P(r,{code:x.invalid_type,expected:j.array,received:r.parsedType}),U;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(P(r,{code:a?x.too_big:x.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(P(r,{code:x.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(P(r,{code:x.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new Be(r,a,r.path,o)))).then(a=>ge.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new Be(r,a,r.path,o)));return ge.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Pe({...this._def,minLength:{value:e,message:V.toString(r)}})}max(e,r){return new Pe({...this._def,maxLength:{value:e,message:V.toString(r)}})}length(e,r){return new Pe({...this._def,exactLength:{value:e,message:V.toString(r)}})}nonempty(e){return this.min(1,e)}}Pe.create=(t,e)=>new Pe({type:t,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...q(e)});function At(t){if(t instanceof se){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=We.create(At(n))}return new se({...t._def,shape:()=>e})}else return t instanceof Pe?new Pe({...t._def,type:At(t.element)}):t instanceof We?We.create(At(t.unwrap())):t instanceof _t?_t.create(At(t.unwrap())):t instanceof Ze?Ze.create(t.items.map(e=>At(e))):t}class se extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=G.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==j.object){const c=this._getOrReturnCtx(e);return P(c,{code:x.invalid_type,expected:j.object,received:c.parsedType}),U}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ye&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||o.push(c);const u=[];for(const c of a){const l=i[c],h=s.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Be(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ye){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of o)u.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(c==="strict")o.length>0&&(P(s,{code:x.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of o){const h=s.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Be(s,h,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of u){const h=await l.key;c.push({key:h,value:await l.value,alwaysSet:l.alwaysSet})}return c}).then(c=>ge.mergeObjectSync(n,c)):ge.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new se({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=V.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new se({...this._def,unknownKeys:"strip"})}passthrough(){return new se({...this._def,unknownKeys:"passthrough"})}extend(e){return new se({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new se({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new se({...this._def,catchall:e})}pick(e){const r={};return G.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new se({...this._def,shape:()=>r})}omit(e){const r={};return G.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new se({...this._def,shape:()=>r})}deepPartial(){return At(this)}partial(e){const r={};return G.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new se({...this._def,shape:()=>r})}required(e){const r={};return G.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof We;)i=i._def.innerType;r[n]=i}}),new se({...this._def,shape:()=>r})}keyof(){return pi(G.objectKeys(this.shape))}}se.create=(t,e)=>new se({shape:()=>t,unknownKeys:"strip",catchall:Ye.create(),typeName:K.ZodObject,...q(e)});se.strictCreate=(t,e)=>new se({shape:()=>t,unknownKeys:"strict",catchall:Ye.create(),typeName:K.ZodObject,...q(e)});se.lazycreate=(t,e)=>new se({shape:t,unknownKeys:"strip",catchall:Ye.create(),typeName:K.ZodObject,...q(e)});class er extends W{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new je(o.ctx.common.issues));return P(r,{code:x.invalid_union,unionErrors:a}),U}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},l=u._parseSync({data:r.data,path:r.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(u=>new je(u));return P(r,{code:x.invalid_union,unionErrors:o}),U}}get options(){return this._def.options}}er.create=(t,e)=>new er({options:t,typeName:K.ZodUnion,...q(e)});const Or=t=>t instanceof nr?Or(t.schema):t instanceof De?Or(t.innerType()):t instanceof sr?[t.value]:t instanceof at?t.options:t instanceof ir?Object.keys(t.enum):t instanceof ar?Or(t._def.innerType):t instanceof Qt?[void 0]:t instanceof Xt?[null]:null;class sn extends W{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==j.object)return P(r,{code:x.invalid_type,expected:j.object,received:r.parsedType}),U;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(P(r,{code:x.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=Or(i.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new sn({typeName:K.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...q(n)})}}function jn(t,e){const r=tt(t),n=tt(e);if(t===e)return{valid:!0,data:t};if(r===j.object&&n===j.object){const s=G.objectKeys(e),i=G.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const u=jn(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(r===j.array&&n===j.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],u=jn(a,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===j.date&&n===j.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class tr extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Cn(i)||Cn(a))return U;const o=jn(i.value,a.value);return o.valid?((Rn(i)||Rn(a))&&r.dirty(),{status:r.value,value:o.data}):(P(n,{code:x.invalid_intersection_types}),U)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}tr.create=(t,e,r)=>new tr({left:t,right:e,typeName:K.ZodIntersection,...q(r)});class Ze extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==j.array)return P(n,{code:x.invalid_type,expected:j.array,received:n.parsedType}),U;if(n.data.length<this._def.items.length)return P(n,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&n.data.length>this._def.items.length&&(P(n,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new Be(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>ge.mergeArray(r,a)):ge.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ze({...this._def,rest:e})}}Ze.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ze({items:t,typeName:K.ZodTuple,rest:null,...q(e)})};class rr extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==j.object)return P(n,{code:x.invalid_type,expected:j.object,received:n.parsedType}),U;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new Be(n,o,n.path,o)),value:a._parse(new Be(n,n.data[o],n.path,o))});return n.common.async?ge.mergeObjectAsync(r,s):ge.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof W?new rr({keyType:e,valueType:r,typeName:K.ZodRecord,...q(n)}):new rr({keyType:Re.create(),valueType:e,typeName:K.ZodRecord,...q(r)})}}class qr extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==j.map)return P(n,{code:x.invalid_type,expected:j.map,received:n.parsedType}),U;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,u],c)=>({key:s._parse(new Be(n,o,n.path,[c,"key"])),value:i._parse(new Be(n,u,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return U;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),o.set(c.value,l.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of a){const c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return U;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),o.set(c.value,l.value)}return{status:r.value,value:o}}}}qr.create=(t,e,r)=>new qr({valueType:e,keyType:t,typeName:K.ZodMap,...q(r)});class vt extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==j.set)return P(n,{code:x.invalid_type,expected:j.set,received:n.parsedType}),U;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(P(n,{code:x.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(P(n,{code:x.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(u){const c=new Set;for(const l of u){if(l.status==="aborted")return U;l.status==="dirty"&&r.dirty(),c.add(l.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((u,c)=>i._parse(new Be(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,r){return new vt({...this._def,minSize:{value:e,message:V.toString(r)}})}max(e,r){return new vt({...this._def,maxSize:{value:e,message:V.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}vt.create=(t,e)=>new vt({valueType:t,minSize:null,maxSize:null,typeName:K.ZodSet,...q(e)});class Rt extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==j.function)return P(r,{code:x.invalid_type,expected:j.function,received:r.parsedType}),U;function n(o,u){return Fr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Kr(),Gt].filter(c=>!!c),issueData:{code:x.invalid_arguments,argumentsError:u}})}function s(o,u){return Fr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Kr(),Gt].filter(c=>!!c),issueData:{code:x.invalid_return_type,returnTypeError:u}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Nt){const o=this;return we(async function(...u){const c=new je([]),l=await o._def.args.parseAsync(u,i).catch(m=>{throw c.addIssue(n(u,m)),c}),h=await Reflect.apply(a,this,l);return await o._def.returns._def.type.parseAsync(h,i).catch(m=>{throw c.addIssue(s(h,m)),c})})}else{const o=this;return we(function(...u){const c=o._def.args.safeParse(u,i);if(!c.success)throw new je([n(u,c.error)]);const l=Reflect.apply(a,this,c.data),h=o._def.returns.safeParse(l,i);if(!h.success)throw new je([s(l,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Rt({...this._def,args:Ze.create(e).rest(ht.create())})}returns(e){return new Rt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Rt({args:e||Ze.create([]).rest(ht.create()),returns:r||ht.create(),typeName:K.ZodFunction,...q(n)})}}class nr extends W{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}nr.create=(t,e)=>new nr({getter:t,typeName:K.ZodLazy,...q(e)});class sr extends W{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return P(r,{received:r.data,code:x.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}}sr.create=(t,e)=>new sr({value:t,typeName:K.ZodLiteral,...q(e)});function pi(t,e){return new at({values:t,typeName:K.ZodEnum,...q(e)})}class at extends W{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return P(r,{expected:G.joinValues(n),received:r.parsedType,code:x.invalid_type}),U}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return P(r,{received:r.data,code:x.invalid_enum_value,options:n}),U}return we(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return at.create(e)}exclude(e){return at.create(this.options.filter(r=>!e.includes(r)))}}at.create=pi;class ir extends W{_parse(e){const r=G.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==j.string&&n.parsedType!==j.number){const s=G.objectValues(r);return P(n,{expected:G.joinValues(s),received:n.parsedType,code:x.invalid_type}),U}if(r.indexOf(e.data)===-1){const s=G.objectValues(r);return P(n,{received:n.data,code:x.invalid_enum_value,options:s}),U}return we(e.data)}get enum(){return this._def.values}}ir.create=(t,e)=>new ir({values:t,typeName:K.ZodNativeEnum,...q(e)});class Nt extends W{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==j.promise&&r.common.async===!1)return P(r,{code:x.invalid_type,expected:j.promise,received:r.parsedType}),U;const n=r.parsedType===j.promise?r.data:Promise.resolve(r.data);return we(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Nt.create=(t,e)=>new Nt({type:t,typeName:K.ZodPromise,...q(e)});class De extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{P(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(a).then(o=>this._def.schema._parseAsync({data:o,path:n.path,parent:n})):this._def.schema._parseSync({data:a,path:n.path,parent:n})}if(s.type==="refinement"){const a=o=>{const u=s.refinement(o,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?U:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?U:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Yt(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Yt(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);G.assertNever(s)}}De.create=(t,e,r)=>new De({schema:t,typeName:K.ZodEffects,effect:e,...q(r)});De.createWithPreprocess=(t,e,r)=>new De({schema:e,effect:{type:"preprocess",transform:t},typeName:K.ZodEffects,...q(r)});class We extends W{_parse(e){return this._getType(e)===j.undefined?we(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}We.create=(t,e)=>new We({innerType:t,typeName:K.ZodOptional,...q(e)});class _t extends W{_parse(e){return this._getType(e)===j.null?we(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_t.create=(t,e)=>new _t({innerType:t,typeName:K.ZodNullable,...q(e)});class ar extends W{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===j.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ar.create=(t,e)=>new ar({innerType:t,typeName:K.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...q(e)});class zr extends W{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lr(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new je(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new je(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}zr.create=(t,e)=>new zr({innerType:t,typeName:K.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...q(e)});class Wr extends W{_parse(e){if(this._getType(e)!==j.nan){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:j.nan,received:n.parsedType}),U}return{status:"valid",value:e.data}}}Wr.create=t=>new Wr({typeName:K.ZodNaN,...q(t)});const La=Symbol("zod_brand");class mi extends W{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class yr extends W{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?U:i.status==="dirty"?(r.dirty(),hi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?U:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new yr({in:e,out:r,typeName:K.ZodPipeline})}}class Hr extends W{_parse(e){const r=this._def.innerType._parse(e);return Yt(r)&&(r.value=Object.freeze(r.value)),r}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:K.ZodReadonly,...q(e)});const yi=(t,e={},r)=>t?Dt.create().superRefine((n,s)=>{var i,a;if(!t(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(a=(i=o.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,c=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...c,fatal:u})}}):Dt.create(),$a={object:se.lazycreate};var K;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(K||(K={}));const Ua=(t,e={message:`Input not instance of ${t.name}`})=>yi(r=>r instanceof t,e),gi=Re.create,vi=st.create,qa=Wr.create,za=it.create,_i=Jt.create,Wa=gt.create,Ha=$r.create,Ga=Qt.create,Ya=Xt.create,Ja=Dt.create,Qa=ht.create,Xa=Ye.create,eo=Ur.create,to=Pe.create,ro=se.create,no=se.strictCreate,so=er.create,io=sn.create,ao=tr.create,oo=Ze.create,uo=rr.create,co=qr.create,lo=vt.create,fo=Rt.create,ho=nr.create,po=sr.create,mo=at.create,yo=ir.create,go=Nt.create,Zs=De.create,vo=We.create,_o=_t.create,bo=De.createWithPreprocess,wo=yr.create,xo=()=>gi().optional(),ko=()=>vi().optional(),Eo=()=>_i().optional(),To={string:t=>Re.create({...t,coerce:!0}),number:t=>st.create({...t,coerce:!0}),boolean:t=>Jt.create({...t,coerce:!0}),bigint:t=>it.create({...t,coerce:!0}),date:t=>gt.create({...t,coerce:!0})},So=U;var ie=Object.freeze({__proto__:null,defaultErrorMap:Gt,setErrorMap:Ca,getErrorMap:Kr,makeIssue:Fr,EMPTY_PATH:Ra,addIssueToContext:P,ParseStatus:ge,INVALID:U,DIRTY:hi,OK:we,isAborted:Cn,isDirty:Rn,isValid:Yt,isAsync:Lr,get util(){return G},get objectUtil(){return On},ZodParsedType:j,getParsedType:tt,ZodType:W,ZodString:Re,ZodNumber:st,ZodBigInt:it,ZodBoolean:Jt,ZodDate:gt,ZodSymbol:$r,ZodUndefined:Qt,ZodNull:Xt,ZodAny:Dt,ZodUnknown:ht,ZodNever:Ye,ZodVoid:Ur,ZodArray:Pe,ZodObject:se,ZodUnion:er,ZodDiscriminatedUnion:sn,ZodIntersection:tr,ZodTuple:Ze,ZodRecord:rr,ZodMap:qr,ZodSet:vt,ZodFunction:Rt,ZodLazy:nr,ZodLiteral:sr,ZodEnum:at,ZodNativeEnum:ir,ZodPromise:Nt,ZodEffects:De,ZodTransformer:De,ZodOptional:We,ZodNullable:_t,ZodDefault:ar,ZodCatch:zr,ZodNaN:Wr,BRAND:La,ZodBranded:mi,ZodPipeline:yr,ZodReadonly:Hr,custom:yi,Schema:W,ZodSchema:W,late:$a,get ZodFirstPartyTypeKind(){return K},coerce:To,any:Ja,array:to,bigint:za,boolean:_i,date:Wa,discriminatedUnion:io,effect:Zs,enum:mo,function:fo,instanceof:Ua,intersection:ao,lazy:ho,literal:po,map:co,nan:qa,nativeEnum:yo,never:Xa,null:Ya,nullable:_o,number:vi,object:ro,oboolean:Eo,onumber:ko,optional:vo,ostring:xo,pipeline:wo,preprocess:bo,promise:go,record:uo,set:lo,strictObject:no,string:gi,symbol:Ha,transformer:Zs,tuple:oo,undefined:Ga,union:so,unknown:Qa,void:eo,NEVER:So,ZodIssueCode:x,quotelessJson:Oa,ZodError:je});const Ao=["Automated Only","Manual Only","Hybrid (Automated and Manual)"];ie.object({processName:ie.string().max(50),productName:ie.string().max(50),processVersion:ie.string().max(50),processType:ie.enum(Ao),productUrl:ie.string().url().max(150),processDesc:ie.string().max(1e3),notes:ie.string().max(1e3).optional()});ie.object({agencyName:ie.string().max(100),submitterFirstName:ie.string().max(50),submitterLastName:ie.string().max(50),submitterRole:ie.string().max(100).optional(),submitterEmail:ie.string().email(),submitterNotes:ie.string().max(1e3)});const Oo=ie.object({id:ie.number().optional(),testId:ie.string(),testCaseId:ie.string(),testName:ie.string(),testComment:ie.string()});var Ks=function(t,e,r){if(t&&"reportValidity"in t){var n=N(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},bi=function(t,e){var r=function(s){var i=e.fields[s];i&&i.ref&&"reportValidity"in i.ref?Ks(i.ref,s,t):i.refs&&i.refs.forEach(function(a){return Ks(a,s,t)})};for(var n in e.fields)r(n)},Co=function(t,e){e.shouldUseNativeValidation&&bi(t,e);var r={};for(var n in t){var s=N(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(Ro(e.names||Object.keys(t),n)){var a=Object.assign({},N(r,n));Q(a,"root",i),Q(r,n,a)}else Q(r,n,i)}return r},Ro=function(t,e){return t.some(function(r){return r.startsWith(e+".")})},jo=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(l){return l.errors.forEach(function(h){return t.push(h)})}),e){var u=r[a].types,c=u&&u[n.code];r[a]=ii(a,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},Po=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&bi({},i),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u}(0,function(a){if(function(o){return o.errors!=null}(a))return{values:{},errors:Co(jo(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const Io="modulepreload",Do=function(t){return"/"+t},Fs={},he=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link");s=Promise.all(r.map(a=>{if(a=Do(a),a in Fs)return;Fs[a]=!0;const o=a.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Io,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((h,d)=>{l.addEventListener("load",h),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:No}="",Vo=/[&<>'"]/g,Mo={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},Bo=t=>Mo[t],Zo=t=>No.call(t,Vo,Bo);function $u(t){return!!t&&typeof t=="object"&&typeof t.then=="function"}async function*Ko(t){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}const Uu=Zo;class wi extends Uint8Array{}Object.defineProperty(wi.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class Ls extends String{get[Symbol.toStringTag](){return"HTMLString"}}const Fo=t=>t instanceof Ls?t:typeof t=="string"?new Ls(t):t;function qu(t){return Object.prototype.toString.call(t)==="[object HTMLString]"}function Lo(t){return new wi(t)}function xi(t){return typeof t.getReader=="function"}async function*$s(t){if(xi(t))for await(const e of Ko(t))yield Gr(e);else for await(const e of t)yield Gr(e)}function*$o(t){for(const e of t)yield Gr(e)}function Gr(t){if(t&&typeof t=="object"){if(t instanceof Uint8Array)return Lo(t);if(t instanceof Response&&t.body){const e=t.body;return $s(e)}else{if(typeof t.then=="function")return Promise.resolve(t).then(e=>Gr(e));if(Symbol.iterator in t)return $o(t);if(Symbol.asyncIterator in t||xi(t))return $s(t)}}return Fo(t)}new TextEncoder;new TextDecoder;function zu(t){return!!t&&typeof t=="object"&&"render"in t&&typeof t.render=="function"}function an({globResult:t,contentDir:e}){const r={};for(const n in t){const i=n.replace(new RegExp(`^${e}`),"").split("/");if(i.length<=1)continue;const a=i[0];r[a]??={},r[a][n]=t[n]}return r}const on="/src/content/",ki=Object.assign({"/src/content/pages/create-report.md":()=>he(()=>import("./create-report.wcRgwZSF.js"),__vite__mapDeps([])),"/src/content/pages/home.md":()=>he(()=>import("./home.LRXaZbbm.js"),__vite__mapDeps([])),"/src/content/pages/instructions.md":()=>he(()=>import("./instructions.wOkAFA8d.js"),__vite__mapDeps([])),"/src/content/pages/license.md":()=>he(()=>import("./license.4wPmmFKd.js"),__vite__mapDeps([])),"/src/content/testCaseGroups/group-1.md":()=>he(()=>import("./group-1.0-RLaoiO.js"),__vite__mapDeps([])),"/src/content/testCaseGroups/group-2.md":()=>he(()=>import("./group-2.FY92VsNG.js"),__vite__mapDeps([]))});an({globResult:ki,contentDir:on});const Ei=Object.assign({"/src/content/testCases/tc-10-1-all-pass-1.json":()=>he(()=>import("./tc-10-1-all-pass-1.CnhhsPhj.js"),__vite__mapDeps([])),"/src/content/testCases/tc-12-1-2-fail-1.json":()=>he(()=>import("./tc-12-1-2-fail-1.UV8IHlBP.js"),__vite__mapDeps([])),"/src/content/testCases/tc-12-1-2-fail-2.json":()=>he(()=>import("./tc-12-1-2-fail-2.8VGRpN5y.js"),__vite__mapDeps([])),"/src/content/testCases/tc-17-5-ic-dna-1.json":()=>he(()=>import("./tc-17-5-ic-dna-1.Y6JYRmJz.js"),__vite__mapDeps([])),"/src/content/testCases/tc-6-3-1-fail-1.json":()=>he(()=>import("./tc-6-3-1-fail-1.2Vp5yRst.js"),__vite__mapDeps([])),"/src/content/testCases/tc-6-3-2-fail-1.json":()=>he(()=>import("./tc-6-3-2-fail-1.RY0maVBQ.js"),__vite__mapDeps([]))});an({globResult:Ei,contentDir:on});an({globResult:{...ki,...Ei},contentDir:on});const Uo=Object.assign({"/src/content/pages/create-report.md":()=>he(()=>import("./create-report.MJzwK4Dk.js"),__vite__mapDeps([0,1,2])),"/src/content/pages/home.md":()=>he(()=>import("./home.0ct9BXc8.js"),__vite__mapDeps([3,1,2])),"/src/content/pages/instructions.md":()=>he(()=>import("./instructions.NU8wNDHq.js"),__vite__mapDeps([4,1,2])),"/src/content/pages/license.md":()=>he(()=>import("./license.ASxUKQsP.js"),__vite__mapDeps([5,1,2])),"/src/content/testCaseGroups/group-1.md":()=>he(()=>import("./group-1.Vn-gOtpC.js"),__vite__mapDeps([6,1,2])),"/src/content/testCaseGroups/group-2.md":()=>he(()=>import("./group-2.sYA6gogJ.js"),__vite__mapDeps([7,1,2]))});an({globResult:Uo,contentDir:on});const re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ue=Object.keys,ye=Array.isArray;function xe(t,e){return typeof e!="object"||ue(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||re.Promise||(re.Promise=Promise);const or=Object.getPrototypeOf,qo={}.hasOwnProperty;function Ee(t,e){return qo.call(t,e)}function Vt(t,e){typeof e=="function"&&(e=e(or(t))),(typeof Reflect>"u"?ue:Reflect.ownKeys)(e).forEach(r=>{He(t,r,e[r])})}const Ti=Object.defineProperty;function He(t,e,r,n){Ti(t,e,xe(r&&Ee(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function jt(t){return{from:function(e){return t.prototype=Object.create(e.prototype),He(t.prototype,"constructor",t),{extend:Vt.bind(null,t.prototype)}}}}const zo=Object.getOwnPropertyDescriptor;function os(t,e){let r;return zo(t,e)||(r=or(t))&&os(r,e)}const Wo=[].slice;function Yr(t,e,r){return Wo.call(t,e,r)}function Si(t,e){return e(t)}function Ft(t){if(!t)throw new Error("Assertion Failed")}function Ai(t){re.setImmediate?setImmediate(t):setTimeout(t,0)}function Oi(t,e){return t.reduce((r,n,s)=>{var i=e(n,s);return i&&(r[i[0]]=i[1]),r},{})}function Ge(t,e){if(typeof e=="string"&&Ee(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var i=Ge(t,e[n]);r.push(i)}return r}var a=e.indexOf(".");if(a!==-1){var o=t[e.substr(0,a)];return o===void 0?void 0:Ge(o,e.substr(a+1))}}function Ie(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Ft(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)Ie(t,e[n],r[n])}else{var i=e.indexOf(".");if(i!==-1){var a=e.substr(0,i),o=e.substr(i+1);if(o==="")r===void 0?ye(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=r;else{var u=t[a];u&&Ee(t,a)||(u=t[a]={}),Ie(u,o,r)}}else r===void 0?ye(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function Ci(t){var e={};for(var r in t)Ee(t,r)&&(e[r]=t[r]);return e}const Ho=[].concat;function Ri(t){return Ho.apply([],t)}const ji="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ri([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>re[t]),Go=ji.map(t=>re[t]);Oi(ji,t=>[t,!0]);let et=null;function gr(t){et=typeof WeakMap<"u"&&new WeakMap;const e=Pn(t);return et=null,e}function Pn(t){if(!t||typeof t!="object")return t;let e=et&&et.get(t);if(e)return e;if(ye(t)){e=[],et&&et.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(Pn(t[r]))}else if(Go.indexOf(t.constructor)>=0)e=t;else{const i=or(t);for(var s in e=i===Object.prototype?{}:Object.create(i),et&&et.set(t,e),t)Ee(t,s)&&(e[s]=Pn(t[s]))}return e}const{toString:Yo}={};function In(t){return Yo.call(t).slice(8,-1)}const Dn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Jo=typeof Dn=="symbol"?function(t){var e;return t!=null&&(e=t[Dn])&&e.apply(t)}:function(){return null},Ot={};function qe(t){var e,r,n,s;if(arguments.length===1){if(ye(t))return t.slice();if(this===Ot&&typeof t=="string")return[t];if(s=Jo(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const us=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pi(t,e){Ke=t,Ii=e}var Ii=()=>!0;const Qo=!new Error("").stack;function xt(){if(Qo)try{throw xt.arguments,new Error}catch(t){return t}return new Error}function Nn(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),r.split(`
`).slice(e).filter(Ii).map(n=>`
`+n).join("")):""}var Di=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],cs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Di),Xo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pt(t,e){this._e=xt(),this.name=t,this.message=e}function Ni(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join(`
`)}function Jr(t,e,r,n){this._e=xt(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=Ni(t,e)}function Ut(t,e){this._e=xt(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=Ni(t,e)}jt(Pt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Nn(this._e,2))}},toString:function(){return this.name+": "+this.message}}),jt(Jr).from(Pt),jt(Ut).from(Pt);var ls=cs.reduce((t,e)=>(t[e]=e+"Error",t),{});const eu=Pt;var F=cs.reduce((t,e)=>{var r=e+"Error";function n(s,i){this._e=xt(),this.name=r,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=Xo[e]||r,this.inner=null)}return jt(n).from(eu),t[e]=n,t},{});F.Syntax=SyntaxError,F.Type=TypeError,F.Range=RangeError;var Us=Di.reduce((t,e)=>(t[e+"Error"]=F[e],t),{}),Cr=cs.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=F[e]),t),{});function X(){}function ur(t){return t}function tu(t,e){return t==null||t===ur?e:function(r){return e(t(r))}}function bt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function ru(t,e){return t===X?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?bt(n,this.onsuccess):n),s&&(this.onerror=this.onerror?bt(s,this.onerror):s),i!==void 0?i:r}}function nu(t,e){return t===X?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?bt(r,this.onsuccess):r),n&&(this.onerror=this.onerror?bt(n,this.onerror):n)}}function su(t,e){return t===X?e:function(r){var n=t.apply(this,arguments);xe(r,n);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?bt(s,this.onsuccess):s),i&&(this.onerror=this.onerror?bt(i,this.onerror):i),n===void 0?a===void 0?void 0:a:xe(n,a)}}function iu(t,e){return t===X?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function ds(t,e){return t===X?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return r.then(function(){return e.apply(n,i)})}return e.apply(this,arguments)}}Cr.ModifyError=Jr,Cr.DexieError=Pt,Cr.BulkError=Ut;var cr={};const Vi=100,[Vn,Qr,Mn]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,or(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,or(e),t]})(),Mi=Qr&&Qr.then,Rr=Vn&&Vn.constructor,fs=!!Mn;var Bn=!1,au=Mn?()=>{Mn.then(br)}:re.setImmediate?setImmediate.bind(null,br):re.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{br(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(br,0)},qt=function(t,e){Lt.push([t,e]),Xr&&(au(),Xr=!1)},Zn=!0,Xr=!0,pt=[],jr=[],Kn=null,Fn=ur,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ws,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{Ws(t[0],t[1])}catch{}})}},M=It,Lt=[],mt=0,Pr=[];function I(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var e=this._PSD=M;if(Ke&&(this._stackHolder=xt(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==cr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&$n(this,this._value))}this._state=null,this._value=null,++e.ref,Zi(this,t)}const Ln={get:function(){var t=M,e=en;function r(n,s){var i=!t.global&&(t!==M||e!==en);const a=i&&!Je();var o=new I((u,c)=>{hs(this,new Bi(tn(n,t,i,a),tn(s,t,i,a),u,c,t))});return Ke&&Li(o,this),o}return r.prototype=cr,r},set:function(t){He(this,"then",t&&t.prototype===cr?Ln:{get:function(){return t},set:Ln.set})}};function Bi(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function Zi(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&vr();r&&typeof r.then=="function"?Zi(t,(s,i)=>{r instanceof I?r._then(s,i):r.then(s,i)}):(t._state=!0,t._value=r,Ki(t)),n&&_r()}},$n.bind(null,t))}catch(r){$n(t,r)}}function $n(t,e){if(jr.push(e),t._state===null){var r=t._lib&&vr();e=Fn(e),t._state=!1,t._value=e,Ke&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,i){try{n.apply(null,i)}catch(a){s&&s(a)}}(()=>{var n=os(e,"stack");e._promise=t,He(e,"stack",{get:()=>Bn?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){pt.some(s=>s._value===n._value)||pt.push(n)}(t),Ki(t),r&&_r()}}function Ki(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)hs(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),mt===0&&(++mt,qt(()=>{--mt==0&&ps()},[]))}function hs(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++mt,qt(ou,[r,t,e])}else t._listeners.push(e)}function ou(t,e,r){try{Kn=e;var n,s=e._value;e._state?n=t(s):(jr.length&&(jr=[]),n=t(s),jr.indexOf(s)===-1&&function(i){for(var a=pt.length;a;)if(pt[--a]._value===i._value)return void pt.splice(a,1)}(e)),r.resolve(n)}catch(i){r.reject(i)}finally{Kn=null,--mt==0&&ps(),--r.psd.ref||r.psd.finalize()}}function Fi(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,i,a=t._value;a!=null?(s=a.name||"Error",i=a.message||a,n=Nn(a,0)):(s=a,i=""),e.push(s+(i?": "+i:"")+n)}return Ke&&((n=Nn(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&Fi(t._prev,e,r)),e}function Li(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function br(){vr()&&_r()}function vr(){var t=Zn;return Zn=!1,Xr=!1,t}function _r(){var t,e,r;do for(;Lt.length>0;)for(t=Lt,Lt=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(Lt.length>0);Zn=!0,Xr=!0}function ps(){var t=pt;pt=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=Pr.slice(0),r=e.length;r;)e[--r]()}function wr(t){return new I(cr,!1,t)}function ne(t,e){var r=M;return function(){var n=vr(),s=M;try{return ut(r,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{ut(s,!1),n&&_r()}}}Vt(I.prototype,{then:Ln,_then:function(t,e){hs(this,new Bi(null,null,t,e,M))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):wr(n)):this.then(null,n=>n&&n.name===e?r(n):wr(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),wr(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Bn=!0;var t=Fi(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Bn=!1}}},timeout:function(t,e){return t<1/0?new I((r,n)=>{var s=setTimeout(()=>n(new F.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&He(I.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=$i(),Vt(I,{all:function(){var t=qe.apply(null,arguments).map(xr);return new I(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,i)=>I.resolve(s).then(a=>{t[i]=a,--n||e(t)},r))})},resolve:t=>{if(t instanceof I)return t;if(t&&typeof t.then=="function")return new I((r,n)=>{t.then(r,n)});var e=new I(cr,!0,t);return Li(e,Kn),e},reject:wr,race:function(){var t=qe.apply(null,arguments).map(xr);return new I((e,r)=>{t.map(n=>I.resolve(n).then(e,r))})},PSD:{get:()=>M,set:t=>M=t},totalEchoes:{get:()=>en},newPSD:ot,usePSD:Bt,scheduler:{get:()=>qt,set:t=>{qt=t}},rejectionMapper:{get:()=>Fn,set:t=>{Fn=t}},follow:(t,e)=>new I((r,n)=>ot((s,i)=>{var a=M;a.unhandleds=[],a.onunhandled=i,a.finalize=bt(function(){(function(o){function u(){o(),Pr.splice(Pr.indexOf(u),1)}Pr.push(u),++mt,qt(()=>{--mt==0&&ps()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},a.finalize),t()},e,r,n))}),Rr&&(Rr.allSettled&&He(I,"allSettled",function(){const t=qe.apply(null,arguments).map(xr);return new I(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,i)=>I.resolve(s).then(a=>n[i]={status:"fulfilled",value:a},a=>n[i]={status:"rejected",reason:a}).then(()=>--r||e(n)))})}),Rr.any&&typeof AggregateError<"u"&&He(I,"any",function(){const t=qe.apply(null,arguments).map(xr);return new I((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((i,a)=>I.resolve(i).then(o=>e(o),o=>{s[a]=o,--n||r(new AggregateError(s))}))})}));const me={awaits:0,echoes:0,id:0};var uu=0,Ir=[],wn=0,en=0,cu=0;function ot(t,e,r,n){var s=M,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++cu;var a=It.env;i.env=fs?{Promise:I,PromiseProp:{value:I,configurable:!0,writable:!0},all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject,nthen:qs(a.nthen,i),gthen:qs(a.gthen,i)}:{},e&&xe(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Bt(i,t,r,n);return i.ref===0&&i.finalize(),o}function Mt(){return me.id||(me.id=++uu),++me.awaits,me.echoes+=Vi,me.id}function Je(){return!!me.awaits&&(--me.awaits==0&&(me.id=0),me.echoes=me.awaits*Vi,!0)}function xr(t){return me.echoes&&t&&t.constructor===Rr?(Mt(),t.then(e=>(Je(),e),e=>(Je(),le(e)))):t}function lu(t){++en,me.echoes&&--me.echoes!=0||(me.echoes=me.id=0),Ir.push(M),ut(t,!0)}function du(){var t=Ir[Ir.length-1];Ir.pop(),ut(t,!1)}function ut(t,e){var r=M;if((e?!me.echoes||wn++&&t===M:!wn||--wn&&t===M)||Ui(e?lu.bind(null,t):du),t!==M&&(M=t,r===It&&(It.env=$i()),fs)){var n=It.env.Promise,s=t.env;Qr.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(re,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function $i(){var t=re.Promise;return fs?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(re,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Qr.then,gthen:t.prototype.then}:{}}function Bt(t,e,r,n,s){var i=M;try{return ut(t,!0),e(r,n,s)}finally{ut(i,!1)}}function Ui(t){Mi.call(Vn,t)}function tn(t,e,r,n){return typeof t!="function"?t:function(){var s=M;r&&Mt(),ut(e,!0);try{return t.apply(this,arguments)}finally{ut(s,!1),n&&Ui(Je)}}}function qs(t,e){return function(r,n){return t.call(this,tn(r,e),tn(n,e))}}(""+Mi).indexOf("[native code]")===-1&&(Mt=Je=X);const zs="unhandledrejection";function Ws(t,e){var r;try{r=e.onuncatched(t)}catch{}if(r!==!1)try{var n,s={promise:e,reason:t};if(re.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(zs,!0,!0),xe(n,s)):re.CustomEvent&&xe(n=new CustomEvent(zs,{detail:s}),s),n&&re.dispatchEvent&&(dispatchEvent(n),!re.PromiseRejectionEvent&&re.onunhandledrejection))try{re.onunhandledrejection(n)}catch{}Ke&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var le=I.reject;function Un(t,e,r,n){if(t.idbdb&&(t._state.openComplete||M.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===ls.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Un(t,e,r,n))):le(i)}return s._promise(e,(i,a)=>ot(()=>(M.trans=s,n(i,a,s)))).then(i=>s._completion.then(()=>i))}if(t._state.openComplete)return le(new F.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return le(new F.DatabaseClosed);t.open().catch(X)}return t._state.dbReadyPromise.then(()=>Un(t,e,r,n))}const Hs="3.2.5",ft="￿",qn=-1/0,Le="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",qi="String expected.",zt=[],un=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),fu=un,hu=un,zi=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),cn="__dbnames",xn="readonly",kn="readwrite";function wt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Wi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function kr(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=gr(e))[t],e)}class pu{_trans(e,r,n){const s=this._tx||M.trans,i=this.name;function a(u,c,l){if(!l.schema[i])throw new F.NotFound("Table "+i+" not part of transaction");return r(l.idbtrans,l)}const o=vr();try{return s&&s.db===this.db?s===M.trans?s._promise(e,a,n):ot(()=>s._promise(e,a,n),{trans:s,transless:M.transless||M}):Un(this.db,e,[this.name],a)}finally{o&&_r()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(ye(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const r=ue(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(c=>{if(c.compound&&r.every(l=>c.keyPath.indexOf(l)>=0)){for(let l=0;l<r.length;++l)if(r.indexOf(c.keyPath[l])===-1)return!1;return!0}return!1}).sort((c,l)=>c.keyPath.length-l.keyPath.length)[0];if(n&&this.db._maxKey!==ft){const c=n.keyPath.slice(0,r.length);return this.where(c).equals(c.map(l=>e[l]))}!n&&Ke&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function a(c,l){try{return i.cmp(c,l)===0}catch{return!1}}const[o,u]=r.reduce(([c,l],h)=>{const d=s[h],m=e[h];return[c||d,c||!d?wt(l,d&&d.multi?b=>{const v=Ge(b,h);return ye(v)&&v.some(w=>a(m,w))}:b=>a(m,Ge(b,h))):l]},[null,null]);return o?this.where(o.name).equals(e[o.keyPath]).filter(u):n?this.filter(u):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ye(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var i in n)if(Ee(n,i))try{s[i]=n[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){xe(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let i=e;return s&&n&&(i=kr(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:r!=null?[r]:null,values:[i]})).then(a=>a.numFailures?I.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{Ie(e,s,a)}catch{}return a})}update(e,r){if(typeof e!="object"||ye(e))return this.where(":id").equals(e).modify(r);{const n=Ge(e,this.schema.primKey.keyPath);if(n===void 0)return le(new F.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?ue(r).forEach(s=>{Ie(e,s,r[s])}):r(e,{value:e,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let i=e;return s&&n&&(i=kr(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:r!=null?[r]:null})).then(a=>a.numFailures?I.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{Ie(e,s,a)}catch{}return a})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?I.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:Wi})).then(e=>e.numFailures?I.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,i=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:o,keyPath:u}=this.schema.primKey;if(u&&s)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");const c=e.length;let l=u&&o?e.map(kr(u)):e;return this.core.mutate({trans:a,type:"add",keys:s,values:l,wantResults:i}).then(({numFailures:h,results:d,lastResult:m,failures:b})=>{if(h===0)return i?d:m;throw new Ut(`${this.name}.bulkAdd(): ${h} of ${c} operations failed`,b)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,i=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:o,keyPath:u}=this.schema.primKey;if(u&&s)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");const c=e.length;let l=u&&o?e.map(kr(u)):e;return this.core.mutate({trans:a,type:"put",keys:s,values:l,wantResults:i}).then(({numFailures:h,results:d,lastResult:m,failures:b})=>{if(h===0)return i?d:m;throw new Ut(`${this.name}.bulkPut(): ${h} of ${c} operations failed`,b)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:i})=>{if(n===0)return s;throw new Ut(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,i)})}}function Wt(t){var e={},r=function(a,o){if(o){for(var u=arguments.length,c=new Array(u-1);--u;)c[u-1]=arguments[u];return e[a].subscribe.apply(null,c),t}if(typeof a=="string")return e[a]};r.addEventType=i;for(var n=1,s=arguments.length;n<s;++n)i(arguments[n]);return r;function i(a,o,u){if(typeof a!="object"){var c;o||(o=iu),u||(u=X);var l={subscribers:[],fire:u,subscribe:function(h){l.subscribers.indexOf(h)===-1&&(l.subscribers.push(h),l.fire=o(l.fire,h))},unsubscribe:function(h){l.subscribers=l.subscribers.filter(function(d){return d!==h}),l.fire=l.subscribers.reduce(o,u)}};return e[a]=r[a]=l,l}ue(c=a).forEach(function(h){var d=c[h];if(ye(d))i(h,c[h][0],c[h][1]);else{if(d!=="asap")throw new F.InvalidArgument("Invalid event config");var m=i(h,ur,function(){for(var b=arguments.length,v=new Array(b);b--;)v[b]=arguments[b];m.subscribers.forEach(function(w){Ai(function(){w.apply(null,v)})})})}})}}function Kt(t,e){return jt(e).from({prototype:t}),e}function Tt(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function En(t,e){t.filter=wt(t.filter,e)}function Tn(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>wt(n(),e()):e,t.justLimit=r&&!n}function Dr(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new F.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function Gs(t,e,r){const n=Dr(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function Er(t,e,r,n){const s=t.replayFilter?wt(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},a=(o,u,c)=>{if(!s||s(u,c,d=>u.stop(d),d=>u.fail(d))){var l=u.primaryKey,h=""+l;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(l)),Ee(i,h)||(i[h]=!0,e(o,u,c))}};return Promise.all([t.or._iterate(a,r),Ys(Gs(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Ys(Gs(t,n,r),wt(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Ys(t,e,r,n){var s=ne(n?(i,a,o)=>r(n(i),a,o):r);return t.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();e&&!e(i,o=>a=o,o=>{i.stop(o),a=X},o=>{i.fail(o),a=X})||s(i.value,i,o=>a=o),a()})})}function be(t,e){try{const r=Js(t),n=Js(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,i){const a=s.length,o=i.length,u=a<o?a:o;for(let c=0;c<u;++c)if(s[c]!==i[c])return s[c]<i[c]?-1:1;return a===o?0:a<o?-1:1}(Qs(t),Qs(e));case"Array":return function(s,i){const a=s.length,o=i.length,u=a<o?a:o;for(let c=0;c<u;++c){const l=be(s[c],i[c]);if(l!==0)return l}return a===o?0:a<o?-1:1}(t,e)}}catch{}return NaN}function Js(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=In(t);return r==="ArrayBuffer"?"binary":r}function Qs(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class mu{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,le.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,le.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=wt(r.algorithm,e)}_iterate(e,r){return Er(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&xe(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>Er(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Tt(n,!0))return s.count({trans:r,query:{index:Dr(n,s.schema),range:n.range}}).then(a=>Math.min(a,n.limit));var i=0;return Er(n,()=>(++i,!1),r,s).then(()=>i)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],i=n.length-1;function a(c,l){return l?a(c[n[l]],l-1):c[s]}var o=this._ctx.dir==="next"?1:-1;function u(c,l){var h=a(c,i),d=a(l,i);return h<d?-o:h>d?o:0}return this.toArray(function(c){return c.sort(u)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Tt(n,!0)&&n.limit>0){const{valueMapper:s}=n,i=Dr(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(({result:a})=>s?a.map(s):a)}{const s=[];return Er(n,i=>s.push(i),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Tt(r)?Tn(r,()=>{var n=e;return(s,i)=>n===0||(n===1?(--n,!1):(i(()=>{s.advance(n),n=0}),!1))}):Tn(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Tn(this._ctx,()=>{var r=e;return function(n,s,i){return--r<=0&&s(i),r>=0}},!0),this}until(e,r){return En(this._ctx,function(n,s,i){return!e(n.value)||(s(i),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return En(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=wt(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,i){n.push(i.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Tt(r,!0)&&r.limit>0)return this._read(s=>{var i=Dr(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:i,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,i){n.push(i.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return En(this._ctx,function(s){var i=s.primaryKey.toString(),a=Ee(n,i);return n[i]=!0,!a}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var i=ue(e),a=i.length;s=function(v){for(var w=!1,g=0;g<a;++g){var p=i[g],k=e[p];Ge(v,p)!==k&&(Ie(v,p,k),w=!0)}return w}}const o=r.table.core,{outbound:u,extractKey:c}=o.schema.primaryKey,l=this.db._options.modifyChunkSize||200,h=[];let d=0;const m=[],b=(v,w)=>{const{failures:g,numFailures:p}=w;d+=v-p;for(let k of ue(g))h.push(g[k])};return this.clone().primaryKeys().then(v=>{const w=g=>{const p=Math.min(l,v.length-g);return o.getMany({trans:n,keys:v.slice(g,g+p),cache:"immutable"}).then(k=>{const O=[],E=[],R=u?[]:null,T=[];for(let A=0;A<p;++A){const Y=k[A],H={value:gr(Y),primKey:v[g+A]};s.call(H,H.value,H)!==!1&&(H.value==null?T.push(v[g+A]):u||be(c(Y),c(H.value))===0?(E.push(H.value),u&&R.push(v[g+A])):(T.push(v[g+A]),O.push(H.value)))}const z=Tt(r)&&r.limit===1/0&&(typeof e!="function"||e===Sn)&&{index:r.index,range:r.range};return Promise.resolve(O.length>0&&o.mutate({trans:n,type:"add",values:O}).then(A=>{for(let Y in A.failures)T.splice(parseInt(Y),1);b(O.length,A)})).then(()=>(E.length>0||z&&typeof e=="object")&&o.mutate({trans:n,type:"put",keys:R,values:E,criteria:z,changeSpec:typeof e!="function"&&e}).then(A=>b(E.length,A))).then(()=>(T.length>0||z&&e===Sn)&&o.mutate({trans:n,type:"delete",keys:T,criteria:z}).then(A=>b(T.length,A))).then(()=>v.length>g+p&&w(g+l))})};return w(0).then(()=>{if(h.length>0)throw new Jr("Error modifying one or more objects",h,d,m);return v.length})})})}delete(){var e=this._ctx,r=e.range;return Tt(e)&&(e.isPrimKey&&!hu||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,i=r;return e.table.core.count({trans:n,query:{index:s,range:i}}).then(a=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(({failures:o,lastResult:u,results:c,numFailures:l})=>{if(l)throw new Jr("Could not delete some values",Object.keys(o).map(h=>o[h]),a-l);return a-l}))}):this.modify(Sn)}}const Sn=(t,e)=>e.value=null;function yu(t,e){return t<e?-1:t===e?0:1}function gu(t,e){return t>e?-1:t===e?0:1}function ke(t,e,r){var n=t instanceof Gi?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function St(t){return new t.Collection(t,()=>Hi("")).limit(0)}function vu(t,e,r,n,s,i){for(var a=Math.min(t.length,n.length),o=-1,u=0;u<a;++u){var c=e[u];if(c!==n[u])return s(t[u],r[u])<0?t.substr(0,u)+r[u]+r.substr(u+1):s(t[u],n[u])<0?t.substr(0,u)+n[u]+r.substr(u+1):o>=0?t.substr(0,o)+e[o]+r.substr(o+1):null;s(t[u],c)<0&&(o=u)}return a<n.length&&i==="next"?t+r.substr(t.length):a<t.length&&i==="prev"?t.substr(0,r.length):o<0?null:t.substr(0,o)+n[o]+r.substr(o+1)}function Tr(t,e,r,n){var s,i,a,o,u,c,l,h=r.length;if(!r.every(v=>typeof v=="string"))return ke(t,qi);function d(v){s=function(g){return g==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(v),i=function(g){return g==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(v),a=v==="next"?yu:gu;var w=r.map(function(g){return{lower:i(g),upper:s(g)}}).sort(function(g,p){return a(g.lower,p.lower)});o=w.map(function(g){return g.upper}),u=w.map(function(g){return g.lower}),c=v,l=v==="next"?"":n}d("next");var m=new t.Collection(t,()=>Xe(o[0],u[h-1]+n));m._ondirectionchange=function(v){d(v)};var b=0;return m._addAlgorithm(function(v,w,g){var p=v.key;if(typeof p!="string")return!1;var k=i(p);if(e(k,u,b))return!0;for(var O=null,E=b;E<h;++E){var R=vu(p,k,o[E],u[E],a,c);R===null&&O===null?b=E+1:(O===null||a(O,R)>0)&&(O=R)}return w(O!==null?function(){v.continue(O+l)}:g),!1}),m}function Xe(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function Hi(t){return{type:1,lower:t,upper:t}}class Gi{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?St(this):new this.Collection(this,()=>Xe(e,r,!n,!s))}catch{return ke(this,Le)}}equals(e){return e==null?ke(this,Le):new this.Collection(this,()=>Hi(e))}above(e){return e==null?ke(this,Le):new this.Collection(this,()=>Xe(e,void 0,!0))}aboveOrEqual(e){return e==null?ke(this,Le):new this.Collection(this,()=>Xe(e,void 0,!1))}below(e){return e==null?ke(this,Le):new this.Collection(this,()=>Xe(void 0,e,!1,!0))}belowOrEqual(e){return e==null?ke(this,Le):new this.Collection(this,()=>Xe(void 0,e))}startsWith(e){return typeof e!="string"?ke(this,qi):this.between(e,e+ft,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Tr(this,(r,n)=>r.indexOf(n[0])===0,[e],ft)}equalsIgnoreCase(e){return Tr(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=qe.apply(Ot,arguments);return e.length===0?St(this):Tr(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=qe.apply(Ot,arguments);return e.length===0?St(this):Tr(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,ft)}anyOf(){const e=qe.apply(Ot,arguments);let r=this._cmp;try{e.sort(r)}catch{return ke(this,Le)}if(e.length===0)return St(this);const n=new this.Collection(this,()=>Xe(e[0],e[e.length-1]));n._ondirectionchange=i=>{r=i==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((i,a,o)=>{const u=i.key;for(;r(u,e[s])>0;)if(++s,s===e.length)return a(o),!1;return r(u,e[s])===0||(a(()=>{i.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[qn,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=qe.apply(Ot,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ke(this,Le)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[qn,s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,i=this._descending,a=this._min,o=this._max;if(e.length===0)return St(this);if(!e.every(p=>p[0]!==void 0&&p[1]!==void 0&&s(p[0],p[1])<=0))return ke(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);const u=!r||r.includeLowers!==!1,c=r&&r.includeUppers===!0;let l,h=s;function d(p,k){return h(p[0],k[0])}try{l=e.reduce(function(p,k){let O=0,E=p.length;for(;O<E;++O){const R=p[O];if(n(k[0],R[1])<0&&n(k[1],R[0])>0){R[0]=a(R[0],k[0]),R[1]=o(R[1],k[1]);break}}return O===E&&p.push(k),p},[]),l.sort(d)}catch{return ke(this,Le)}let m=0;const b=c?p=>s(p,l[m][1])>0:p=>s(p,l[m][1])>=0,v=u?p=>i(p,l[m][0])>0:p=>i(p,l[m][0])>=0;let w=b;const g=new this.Collection(this,()=>Xe(l[0][0],l[l.length-1][1],!u,!c));return g._ondirectionchange=p=>{p==="next"?(w=b,h=s):(w=v,h=i),l.sort(d)},g._addAlgorithm((p,k,O)=>{for(var E=p.key;w(E);)if(++m,m===l.length)return k(O),!1;return!!function(R){return!b(R)&&!v(R)}(E)||(this._cmp(E,l[m][1])===0||this._cmp(E,l[m][0])===0||k(()=>{h===s?p.continue(l[m][0]):p.continue(l[m][1])}),!1)}),g}startsWithAnyOf(){const e=qe.apply(Ot,arguments);return e.every(r=>typeof r=="string")?e.length===0?St(this):this.inAnyRange(e.map(r=>[r,r+ft])):ke(this,"startsWithAnyOf() only works with strings")}}function Ve(t){return ne(function(e){return lr(e),t(e.target.error),!1})}function lr(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const dr="storagemutated",rt="x-storagemutated-1",ct=Wt(null,dr);class _u{_lock(){return Ft(!M.global),++this._reculock,this._reculock!==1||M.global||(M.lockOwnerFor=this),this}_unlock(){if(Ft(!M.global),--this._reculock==0)for(M.global||(M.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Bt(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&M.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(Ft(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new F.DatabaseClosed(n);case"MissingAPIError":throw new F.MissingAPI(n.message,n);default:throw new F.OpenFailed(n)}if(!this.active)throw new F.TransactionInactive;return Ft(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ne(s=>{lr(s),this._reject(e.error)}),e.onabort=ne(s=>{lr(s),this.active&&this._reject(new F.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=ne(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ct.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return le(new F.ReadOnly("Transaction is readonly"));if(!this.active)return le(new F.TransactionInactive);if(this._locked())return new I((i,a)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(i,a)},M])});if(n)return ot(()=>{var i=new I((a,o)=>{this._lock();const u=r(a,o,this);u&&u.then&&u.then(a,o)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new I((i,a)=>{var o=r(i,a,this);o&&o.then&&o.then(i,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=I.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var i=r._waitingFor;return new I((a,o)=>{n.then(u=>r._waitingQueue.push(ne(a.bind(null,u))),u=>r._waitingQueue.push(ne(o.bind(null,u)))).finally(()=>{r._waitingFor===i&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(Ee(r,e))return r[e];const n=this.schema[e];if(!n)throw new F.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function zn(t,e,r,n,s,i,a){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:i,src:(r&&!a?"&":"")+(n?"*":"")+(s?"++":"")+Yi(e)}}function Yi(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Ji(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:Oi(r,n=>[n.name,n])}}let fr=t=>{try{return t.only([[]]),fr=()=>[[]],[[]]}catch{return fr=()=>ft,ft}};function Wn(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>Ge(n,e)}(t):e=>Ge(e,t)}function Xs(t){return[].slice.call(t)}let bu=0;function Ht(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function wu(t,e,r){function n(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:l,lowerOpen:h,upperOpen:d}=u;return c===void 0?l===void 0?null:e.upperBound(l,!!d):l===void 0?e.lowerBound(c,!!h):e.bound(c,l,!!h,!!d)}const{schema:s,hasGetAll:i}=function(u,c){const l=Xs(u.objectStoreNames);return{schema:{name:u.name,tables:l.map(h=>c.objectStore(h)).map(h=>{const{keyPath:d,autoIncrement:m}=h,b=ye(d),v=d==null,w={},g={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:b,keyPath:d,autoIncrement:m,unique:!0,extractKey:Wn(d)},indexes:Xs(h.indexNames).map(p=>h.index(p)).map(p=>{const{name:k,unique:O,multiEntry:E,keyPath:R}=p,T={name:k,compound:ye(R),keyPath:R,unique:O,multiEntry:E,extractKey:Wn(R)};return w[Ht(R)]=T,T}),getIndexByKeyPath:p=>w[Ht(p)]};return w[":id"]=g.primaryKey,d!=null&&(w[Ht(d)]=g.primaryKey),g})},hasGetAll:l.length>0&&"getAll"in c.objectStore(l[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),a=s.tables.map(u=>function(c){const l=c.name;return{name:l,schema:c,mutate:function({trans:h,type:d,keys:m,values:b,range:v}){return new Promise((w,g)=>{w=ne(w);const p=h.objectStore(l),k=p.keyPath==null,O=d==="put"||d==="add";if(!O&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:E}=m||b||{length:1};if(m&&b&&m.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(E===0)return w({numFailures:0,failures:{},results:[],lastResult:void 0});let R;const T=[],z=[];let A=0;const Y=L=>{++A,lr(L)};if(d==="deleteRange"){if(v.type===4)return w({numFailures:A,failures:z,results:[],lastResult:void 0});v.type===3?T.push(R=p.clear()):T.push(R=p.delete(n(v)))}else{const[L,B]=O?k?[b,m]:[b,null]:[m,null];if(O)for(let $=0;$<E;++$)T.push(R=B&&B[$]!==void 0?p[d](L[$],B[$]):p[d](L[$])),R.onerror=Y;else for(let $=0;$<E;++$)T.push(R=p[d](L[$])),R.onerror=Y}const H=L=>{const B=L.target.result;T.forEach(($,ae)=>$.error!=null&&(z[ae]=$.error)),w({numFailures:A,failures:z,results:d==="delete"?m:T.map($=>$.result),lastResult:B})};R.onerror=L=>{Y(L),H(L)},R.onsuccess=H})},getMany:({trans:h,keys:d})=>new Promise((m,b)=>{m=ne(m);const v=h.objectStore(l),w=d.length,g=new Array(w);let p,k=0,O=0;const E=T=>{const z=T.target;g[z._pos]=z.result,++O===k&&m(g)},R=Ve(b);for(let T=0;T<w;++T)d[T]!=null&&(p=v.get(d[T]),p._pos=T,p.onsuccess=E,p.onerror=R,++k);k===0&&m(g)}),get:({trans:h,key:d})=>new Promise((m,b)=>{m=ne(m);const v=h.objectStore(l).get(d);v.onsuccess=w=>m(w.target.result),v.onerror=Ve(b)}),query:function(h){return d=>new Promise((m,b)=>{m=ne(m);const{trans:v,values:w,limit:g,query:p}=d,k=g===1/0?void 0:g,{index:O,range:E}=p,R=v.objectStore(l),T=O.isPrimaryKey?R:R.index(O.name),z=n(E);if(g===0)return m({result:[]});if(h){const A=w?T.getAll(z,k):T.getAllKeys(z,k);A.onsuccess=Y=>m({result:Y.target.result}),A.onerror=Ve(b)}else{let A=0;const Y=w||!("openKeyCursor"in T)?T.openCursor(z):T.openKeyCursor(z),H=[];Y.onsuccess=L=>{const B=Y.result;return B?(H.push(w?B.value:B.primaryKey),++A===g?m({result:H}):void B.continue()):m({result:H})},Y.onerror=Ve(b)}})}(i),openCursor:function({trans:h,values:d,query:m,reverse:b,unique:v}){return new Promise((w,g)=>{w=ne(w);const{index:p,range:k}=m,O=h.objectStore(l),E=p.isPrimaryKey?O:O.index(p.name),R=b?v?"prevunique":"prev":v?"nextunique":"next",T=d||!("openKeyCursor"in E)?E.openCursor(n(k),R):E.openKeyCursor(n(k),R);T.onerror=Ve(g),T.onsuccess=ne(z=>{const A=T.result;if(!A)return void w(null);A.___id=++bu,A.done=!1;const Y=A.continue.bind(A);let H=A.continuePrimaryKey;H&&(H=H.bind(A));const L=A.advance.bind(A),B=()=>{throw new Error("Cursor not stopped")};A.trans=h,A.stop=A.continue=A.continuePrimaryKey=A.advance=()=>{throw new Error("Cursor not started")},A.fail=ne(g),A.next=function(){let $=1;return this.start(()=>$--?this.continue():this.stop()).then(()=>this)},A.start=$=>{const ae=new Promise((te,ve)=>{te=ne(te),T.onerror=Ve(ve),A.fail=ve,A.stop=Ae=>{A.stop=A.continue=A.continuePrimaryKey=A.advance=B,te(Ae)}}),ce=()=>{if(T.result)try{$()}catch(te){A.fail(te)}else A.done=!0,A.start=()=>{throw new Error("Cursor behind last entry")},A.stop()};return T.onsuccess=ne(te=>{T.onsuccess=ce,ce()}),A.continue=Y,A.continuePrimaryKey=H,A.advance=L,ce(),ae},w(A)},g)})},count({query:h,trans:d}){const{index:m,range:b}=h;return new Promise((v,w)=>{const g=d.objectStore(l),p=m.isPrimaryKey?g:g.index(m.name),k=n(b),O=k?p.count(k):p.count();O.onsuccess=ne(E=>v(E.target.result)),O.onerror=Ve(w)})}}}(u)),o={};return a.forEach(u=>o[u.name]=u),{stack:"dbcore",transaction:t.transaction.bind(t),table(u){if(!o[u])throw new Error(`Table '${u}' not found`);return o[u]},MIN_KEY:-1/0,MAX_KEY:fr(e),schema:s}}function Hn({_novip:t},e){const r=e.db,n=function(s,i,{IDBKeyRange:a,indexedDB:o},u){return{dbcore:function(l,h){return h.reduce((d,{create:m})=>({...d,...m(d)}),l)}(wu(i,a,u),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const i=s.name;t.core.schema.tables.some(a=>a.name===i)&&(s.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=s.core))})}function rn({_novip:t},e,r,n){r.forEach(s=>{const i=n[s];e.forEach(a=>{const o=os(a,s);(!o||"value"in o&&o.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?He(a,s,{get(){return this.table(s)},set(u){Ti(this,s,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new t.Table(s,i))})})}function Gn({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function xu(t,e){return t._cfg.version-e._cfg.version}function ku(t,e,r,n){const s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(r),i._completion.catch(n);const a=i._reject.bind(i),o=M.transless||M;ot(()=>{M.trans=i,M.transless=o,e===0?(ue(s).forEach(u=>{An(r,u,s[u].primKey,s[u].indexes)}),Hn(t,r),I.follow(()=>t.on.populate.fire(i)).catch(a)):function({_novip:u},c,l,h){const d=[],m=u._versions;let b=u._dbSchema=Jn(u,u.idbdb,h),v=!1;const w=m.filter(p=>p._cfg.version>=c);function g(){return d.length?I.resolve(d.shift()(l.idbtrans)).then(g):I.resolve()}return w.forEach(p=>{d.push(()=>{const k=b,O=p._cfg.dbschema;Qn(u,k,h),Qn(u,O,h),b=u._dbSchema=O;const E=Qi(k,O);E.add.forEach(T=>{An(h,T[0],T[1].primKey,T[1].indexes)}),E.change.forEach(T=>{if(T.recreate)throw new F.Upgrade("Not yet support for changing primary key");{const z=h.objectStore(T.name);T.add.forEach(A=>Yn(z,A)),T.change.forEach(A=>{z.deleteIndex(A.name),Yn(z,A)}),T.del.forEach(A=>z.deleteIndex(A))}});const R=p._cfg.contentUpgrade;if(R&&p._cfg.version>c){Hn(u,h),l._memoizedTables={},v=!0;let T=Ci(O);E.del.forEach(H=>{T[H]=k[H]}),Gn(u,[u.Transaction.prototype]),rn(u,[u.Transaction.prototype],ue(T),T),l.schema=T;const z=us(R);let A;z&&Mt();const Y=I.follow(()=>{if(A=R(l),A&&z){var H=Je.bind(null,null);A.then(H,H)}});return A&&typeof A.then=="function"?I.resolve(A):Y.then(()=>A)}}),d.push(k=>{(!v||!fu)&&function(O,E){[].slice.call(E.db.objectStoreNames).forEach(R=>O[R]==null&&E.db.deleteObjectStore(R))}(p._cfg.dbschema,k),Gn(u,[u.Transaction.prototype]),rn(u,[u.Transaction.prototype],u._storeNames,u._dbSchema),l.schema=u._dbSchema})}),g().then(()=>{var p,k;k=h,ue(p=b).forEach(O=>{k.db.objectStoreNames.contains(O)||An(k,O,p[O].primKey,p[O].indexes)})})}(t,e,i,r).catch(a)})}function Qi(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],i=e[n];if(s){const a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!un)a.recreate=!0,r.change.push(a);else{const o=s.idxByName,u=i.idxByName;let c;for(c in o)u[c]||a.del.push(c);for(c in u){const l=o[c],h=u[c];l?l.src!==h.src&&a.change.push(h):a.add.push(h)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function An(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(i=>Yn(s,i)),s}function Yn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Jn(t,e,r){const n={};return Yr(e.objectStoreNames,0).forEach(s=>{const i=r.objectStore(s);let a=i.keyPath;const o=zn(Yi(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),u=[];for(let l=0;l<i.indexNames.length;++l){const h=i.index(i.indexNames[l]);a=h.keyPath;var c=zn(h.name,a,!!h.unique,!!h.multiEntry,!1,a&&typeof a!="string",!1);u.push(c)}n[s]=Ji(s,o,u)}),n}function Qn({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const i=n[s],a=r.objectStore(i);t._hasGetAll="getAll"in a;for(let o=0;o<a.indexNames.length;++o){const u=a.indexNames[o],c=a.index(u).keyPath,l=typeof c=="string"?c:"["+Yr(c).join("+")+"]";if(e[i]){const h=e[i].idxByName[l];h&&(h.name=u,delete e[i].idxByName[l],e[i].idxByName[u]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&re.WorkerGlobalScope&&re instanceof re.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Eu{_parseStoresSpec(e,r){ue(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((a,o)=>{const u=(a=a.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return zn(u,c||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),ye(c),o===0)}),i=s.shift();if(i.multi)throw new F.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),r[n]=Ji(n,i,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?xe(this._cfg.storesSource,e):e;const n=r._versions,s={};let i={};return n.forEach(a=>{xe(s,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(s,i)}),r._dbSchema=i,Gn(r,[r._allTables,r,r.Transaction.prototype]),rn(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],ue(i),i),r._storeNames=ue(i),this}upgrade(e){return this._cfg.contentUpgrade=ds(this._cfg.contentUpgrade||X,e),this}}function ms(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new yt(cn,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function ys(t){return t&&typeof t.databases=="function"}function Xn(t){return ot(function(){return M.letThrough=!0,t()})}function Tu(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function Su(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?le(e.dbOpenError):t);Ke&&(e.openCanceller._stackHolder=xt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new F.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,a=null,o=!1;const u=()=>new I((c,l)=>{if(s(),!r)throw new F.MissingAPI;const h=t.name,d=e.autoSchema?r.open(h):r.open(h,Math.round(10*t.verno));if(!d)throw new F.MissingAPI;d.onerror=Ve(l),d.onblocked=ne(t._fireOnBlocked),d.onupgradeneeded=ne(m=>{if(a=d.transaction,e.autoSchema&&!t._options.allowEmptyDB){d.onerror=lr,a.abort(),d.result.close();const v=r.deleteDatabase(h);v.onsuccess=v.onerror=ne(()=>{l(new F.NoSuchDatabase(`Database ${h} doesnt exist`))})}else{a.onerror=Ve(l);var b=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;o=b<1,t._novip.idbdb=d.result,ku(t,b/10,a,l)}},l),d.onsuccess=ne(()=>{a=null;const m=t._novip.idbdb=d.result,b=Yr(m.objectStoreNames);if(b.length>0)try{const w=m.transaction((v=b).length===1?v[0]:v,"readonly");e.autoSchema?function({_novip:g},p,k){g.verno=p.version/10;const O=g._dbSchema=Jn(0,p,k);g._storeNames=Yr(p.objectStoreNames,0),rn(g,[g._allTables],ue(O),O)}(t,m,w):(Qn(t,t._dbSchema,w),function(g,p){const k=Qi(Jn(0,g.idbdb,p),g._dbSchema);return!(k.add.length||k.change.some(O=>O.add.length||O.change.length))}(t,w)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Hn(t,w)}catch{}var v;zt.push(t),m.onversionchange=ne(w=>{e.vcFired=!0,t.on("versionchange").fire(w)}),m.onclose=ne(w=>{t.on("close").fire(w)}),o&&function({indexedDB:w,IDBKeyRange:g},p){!ys(w)&&p!==cn&&ms(w,g).put({name:p}).catch(X)}(t._deps,h),c()},l)}).catch(c=>c&&c.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):I.reject(c));return I.race([n,(typeof navigator>"u"?I.resolve():Tu()).then(u)]).then(()=>(s(),e.onReadyBeingFired=[],I.resolve(Xn(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let l=e.onReadyBeingFired.reduce(ds,X);return e.onReadyBeingFired=[],I.resolve(Xn(()=>l(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{a&&a.abort()}catch{}return n===e.openCanceller&&t._close(),le(c)}).finally(()=>{e.openComplete=!0,i()})}function es(t){var e=i=>t.next(i),r=s(e),n=s(i=>t.throw(i));function s(i){return a=>{var o=i(a),u=o.value;return o.done?u:u&&typeof u.then=="function"?u.then(r,n):ye(u)?Promise.all(u).then(r,n):r(u)}}return s(e)()}function Au(t,e,r){var n=arguments.length;if(n<2)throw new F.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[t,Ri(s),r]}function Xi(t,e,r,n,s){return I.resolve().then(()=>{const i=M.transless||M,a=t._createTransaction(e,r,t._dbSchema,n),o={trans:a,transless:i};if(n)a.idbtrans=n.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(h){return h.name===ls.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Xi(t,e,r,null,s))):le(h)}const u=us(s);let c;u&&Mt();const l=I.follow(()=>{if(c=s.call(a,a),c)if(u){var h=Je.bind(null,null);c.then(h,h)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=es(c))},o);return(c&&typeof c.then=="function"?I.resolve(c).then(h=>a.active?h:le(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):l.then(()=>c)).then(h=>(n&&a._resolve(),a._completion.then(()=>h))).catch(h=>(a._reject(h),le(h)))})}function Sr(t,e,r){const n=ye(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const Ou={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},i=[];function a(l,h,d){const m=Ht(l),b=s[m]=s[m]||[],v=l==null?0:typeof l=="string"?1:l.length,w=h>0,g={...d,isVirtual:w,keyTail:h,keyLength:v,extractKey:Wn(l),unique:!w&&d.unique};return b.push(g),g.isPrimaryKey||i.push(g),v>1&&a(v===2?l[0]:l.slice(0,v-1),h+1,d),b.sort((p,k)=>p.keyTail-k.keyTail),g}const o=a(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[o];for(const l of n.indexes)a(l.keyPath,0,l);function u(l){const h=l.query.index;return h.isVirtual?{...l,query:{index:h,range:(d=l.query.range,m=h.keyTail,{type:d.type===1?2:d.type,lower:Sr(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,m),lowerOpen:!0,upper:Sr(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,m),upperOpen:!0})}}:l;var d,m}return{...r,schema:{...n,primaryKey:o,indexes:i,getIndexByKeyPath:function(l){const h=s[Ht(l)];return h&&h[0]}},count:l=>r.count(u(l)),query:l=>r.query(u(l)),openCursor(l){const{keyTail:h,isVirtual:d,keyLength:m}=l.query.index;return d?r.openCursor(u(l)).then(b=>b&&function(v){return Object.create(v,{continue:{value:function(g){g!=null?v.continue(Sr(g,l.reverse?t.MAX_KEY:t.MIN_KEY,h)):l.unique?v.continue(v.key.slice(0,m).concat(l.reverse?t.MIN_KEY:t.MAX_KEY,h)):v.continue()}},continuePrimaryKey:{value(g,p){v.continuePrimaryKey(Sr(g,t.MAX_KEY,h),p)}},primaryKey:{get:()=>v.primaryKey},key:{get(){const g=v.key;return m===1?g[0]:g.slice(0,m)}},value:{get:()=>v.value}})}(b)):r.openCursor(l)}}}}}};function gs(t,e,r,n){return r=r||{},n=n||"",ue(t).forEach(s=>{if(Ee(e,s)){var i=t[s],a=e[s];if(typeof i=="object"&&typeof a=="object"&&i&&a){const o=In(i);o!==In(a)?r[n+s]=e[s]:o==="Object"?gs(i,a,r,n+s+"."):i!==a&&(r[n+s]=e[s])}else i!==a&&(r[n+s]=e[s])}else r[n+s]=void 0}),ue(e).forEach(s=>{Ee(t,s)||(r[n+s]=e[s])}),r}const Cu={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(i){const a=M.trans,{deleting:o,creating:u,updating:c}=a.table(e).hook;switch(i.type){case"add":if(u.fire===X)break;return a._promise("readwrite",()=>l(i),!0);case"put":if(u.fire===X&&c.fire===X)break;return a._promise("readwrite",()=>l(i),!0);case"delete":if(o.fire===X)break;return a._promise("readwrite",()=>l(i),!0);case"deleteRange":if(o.fire===X)break;return a._promise("readwrite",()=>function(d){return h(d.trans,d.range,1e4)}(i),!0)}return r.mutate(i);function l(d){const m=M.trans,b=d.keys||function(v,w){return w.type==="delete"?w.keys:w.keys||w.values.map(v.extractKey)}(n,d);if(!b)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:b}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(v,w,g){return w.type==="add"?Promise.resolve([]):v.getMany({trans:w.trans,keys:g,cache:"immutable"})}(r,d,b).then(v=>{const w=b.map((g,p)=>{const k=v[p],O={onerror:null,onsuccess:null};if(d.type==="delete")o.fire.call(O,g,k,m);else if(d.type==="add"||k===void 0){const E=u.fire.call(O,g,d.values[p],m);g==null&&E!=null&&(g=E,d.keys[p]=g,n.outbound||Ie(d.values[p],n.keyPath,g))}else{const E=gs(k,d.values[p]),R=c.fire.call(O,E,g,k,m);if(R){const T=d.values[p];Object.keys(R).forEach(z=>{Ee(T,z)?T[z]=R[z]:Ie(T,z,R[z])})}}return O});return r.mutate(d).then(({failures:g,results:p,numFailures:k,lastResult:O})=>{for(let E=0;E<b.length;++E){const R=p?p[E]:b[E],T=w[E];R==null?T.onerror&&T.onerror(g[E]):T.onsuccess&&T.onsuccess(d.type==="put"&&v[E]?d.values[E]:R)}return{failures:g,results:p,numFailures:k,lastResult:O}}).catch(g=>(w.forEach(p=>p.onerror&&p.onerror(g)),Promise.reject(g)))})}function h(d,m,b){return r.query({trans:d,values:!1,query:{index:n,range:m},limit:b}).then(({result:v})=>l({type:"delete",keys:v,trans:d}).then(w=>w.numFailures>0?Promise.reject(w.failures[0]):v.length<b?{failures:[],numFailures:0,lastResult:void 0}:h(d,{...m,lower:v[v.length-1],lowerOpen:!0},b)))}}}}})};function ea(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,i=0;s<e.keys.length&&i<t.length;++s)be(e.keys[s],t[i])===0&&(n.push(r?gr(e.values[s]):e.values[s]),++i);return n.length===t.length?n:null}catch{return null}}const Ru={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=ea(n.keys,n.trans._cache,n.cache==="clone");return s?I.resolve(s):r.getMany(n).then(i=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?gr(i):i},i))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function vs(t){return!("from"in t)}const Ue=function(t,e){if(!this){const r=new Ue;return t&&"d"in t&&xe(r,t),r}xe(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function hr(t,e,r){const n=be(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(vs(t))return xe(t,{from:e,to:r,d:1});const s=t.l,i=t.r;if(be(r,t.from)<0)return s?hr(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},ei(t);if(be(e,t.to)>0)return i?hr(i,e,r):t.r={from:e,to:r,d:1,l:null,r:null},ei(t);be(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),be(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;s&&!t.l&&nn(t,s),i&&a&&nn(t,i)}function nn(t,e){vs(e)||function r(n,{from:s,to:i,l:a,r:o}){hr(n,s,i),a&&r(n,a),o&&r(n,o)}(t,e)}function ju(t,e){const r=ts(e);let n=r.next();if(n.done)return!1;let s=n.value;const i=ts(t);let a=i.next(s.from),o=a.value;for(;!n.done&&!a.done;){if(be(o.from,s.to)<=0&&be(o.to,s.from)>=0)return!0;be(s.from,o.from)<0?s=(n=r.next(o.from)).value:o=(a=i.next(s.from)).value}return!1}function ts(t){let e=vs(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&be(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||be(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function ei(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const i=s==="r"?"l":"r",a={...t},o=t[s];t.from=o.from,t.to=o.to,t[s]=o[s],a[s]=o[i],t[i]=a,a.d=ti(a)}t.d=ti(t)}function ti({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Vt(Ue.prototype,{add(t){return nn(this,t),this},addKey(t){return hr(this,t,t),this},addKeys(t){return t.forEach(e=>hr(this,e,e)),this},[Dn](){return ts(this)}});const Pu={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new Ue(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:i}=s,{primaryKey:a}=i,{extractKey:o,outbound:u}=a,c={...s,mutate:d=>{const m=d.trans,b=m.mutatedParts||(m.mutatedParts={}),v=R=>{const T=`idb://${e}/${n}/${R}`;return b[T]||(b[T]=new Ue)},w=v(""),g=v(":dels"),{type:p}=d;let[k,O]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const E=d.trans._cache;return s.mutate(d).then(R=>{if(ye(k)){p!=="delete"&&(k=R.results),w.addKeys(k);const T=ea(k,E);T||p==="add"||g.addKeys(k),(T||O)&&function(z,A,Y,H){function L(B){const $=z(B.name||"");function ae(te){return te!=null?B.extractKey(te):null}const ce=te=>B.multiEntry&&ye(te)?te.forEach(ve=>$.addKey(ve)):$.addKey(te);(Y||H).forEach((te,ve)=>{const Ae=Y&&ae(Y[ve]),Qe=H&&ae(H[ve]);be(Ae,Qe)!==0&&(Ae!=null&&ce(Ae),Qe!=null&&ce(Qe))})}A.indexes.forEach(L)}(v,i,T,O)}else if(k){const T={from:k.lower,to:k.upper};g.add(T),w.add(T)}else w.add(r),g.add(r),i.indexes.forEach(T=>v(T.name).add(r));return R})}},l=({query:{index:d,range:m}})=>{var b,v;return[d,new Ue((b=m.lower)!==null&&b!==void 0?b:t.MIN_KEY,(v=m.upper)!==null&&v!==void 0?v:t.MAX_KEY)]},h={get:d=>[a,new Ue(d.key)],getMany:d=>[a,new Ue().addKeys(d.keys)],count:l,query:l,openCursor:l};return ue(h).forEach(d=>{c[d]=function(m){const{subscr:b}=M;if(b){const v=O=>{const E=`idb://${e}/${n}/${O}`;return b[E]||(b[E]=new Ue)},w=v(""),g=v(":dels"),[p,k]=h[d](m);if(v(p.name||"").add(k),!p.isPrimaryKey){if(d!=="count"){const O=d==="query"&&u&&m.values&&s.query({...m,values:!1});return s[d].apply(this,arguments).then(E=>{if(d==="query"){if(u&&m.values)return O.then(({result:T})=>(w.addKeys(T),E));const R=m.values?E.result.map(o):E.result;m.values?w.addKeys(R):g.addKeys(R)}else if(d==="openCursor"){const R=E,T=m.values;return R&&Object.create(R,{key:{get:()=>(g.addKey(R.primaryKey),R.key)},primaryKey:{get(){const z=R.primaryKey;return g.addKey(z),z}},value:{get:()=>(T&&w.addKey(R.primaryKey),R.value)}})}return E})}g.add(r)}}return s[d].apply(this,arguments)}}),c}}}};class yt{constructor(e,r){this._middlewares={},this.verno=0;const n=yt.dependencies;this._options=r={addons:yt.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:X,dbReadyPromise:null,cancelOpen:X,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new I(o=>{i.dbReadyResolve=o}),i.openCanceller=new I((o,u)=>{i.cancelOpen=u}),this._state=i,this.name=e,this.on=Wt(this,"populate","blocked","versionchange","close",{ready:[ds,X]}),this.on.ready.subscribe=Si(this.on.ready.subscribe,o=>(u,c)=>{yt.vip(()=>{const l=this._state;if(l.openComplete)l.dbOpenError||I.resolve().then(u),c&&o(u);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(u),c&&o(u);else{o(u);const h=this;c||o(function d(){h.on.ready.unsubscribe(u),h.on.ready.unsubscribe(d)})}})}),this.Collection=(a=this,Kt(mu.prototype,function(o,u){this.db=a;let c=Wi,l=null;if(u)try{c=u()}catch(b){l=b}const h=o._ctx,d=h.table,m=d.hook.reading.fire;this._ctx={table:d,index:h.index,isPrimKey:!h.index||d.schema.primKey.keyPath&&h.index===d.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:l,or:h.or,valueMapper:m!==ur?m:null}})),this.Table=function(o){return Kt(pu.prototype,function(u,c,l){this.db=o,this._tx=l,this.name=u,this.schema=c,this.hook=o._allTables[u]?o._allTables[u].hook:Wt(null,{creating:[ru,X],reading:[tu,ur],updating:[su,X],deleting:[nu,X]})})}(this),this.Transaction=function(o){return Kt(_u.prototype,function(u,c,l,h,d){this.db=o,this.mode=u,this.storeNames=c,this.schema=l,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=Wt(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new I((m,b)=>{this._resolve=m,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var b=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):b&&this.idbtrans&&this.idbtrans.abort(),le(m)})})}(this),this.Version=function(o){return Kt(Eu.prototype,function(u){this.db=o,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(o){return Kt(Gi.prototype,function(u,c,l){this.db=o,this._ctx={table:u,index:c===":id"?null:c,or:l};const h=o._deps.indexedDB;if(!h)throw new F.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(d,m)=>h.cmp(m,d),this._max=(d,m)=>h.cmp(d,m)>0?d:m,this._min=(d,m)=>h.cmp(d,m)<0?d:m,this._IDBKeyRange=o._deps.IDBKeyRange})}(this),this.on("versionchange",o=>{o.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",o=>{!o.newVersion||o.newVersion<o.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${o.oldVersion/10}`)}),this._maxKey=fr(r.IDBKeyRange),this._createTransaction=(o,u,c,l)=>new this.Transaction(o,u,c,this._options.chromeTransactionDurability,l),this._fireOnBlocked=o=>{this.on("blocked").fire(o),zt.filter(u=>u.name===this.name&&u!==this&&!u._state.vcFired).map(u=>u.on("versionchange").fire(o))},this.use(Ou),this.use(Cu),this.use(Pu),this.use(Ru),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(o=>o(this))}version(e){if(isNaN(e)||e<.1)throw new F.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(xu),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||M.letThrough||this._vip)?e():new I((r,n)=>{if(this._state.openComplete)return n(new F.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new F.DatabaseClosed);this.open().catch(X)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:r,level:n??10,name:s}),i.sort((a,o)=>a.level-o.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return Su(this)}_close(){const e=this._state,r=zt.indexOf(this);if(r>=0&&zt.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new I(n=>{e.dbReadyResolve=n}),e.openCanceller=new I((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new F.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new I((n,s)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ne(()=>{(function({indexedDB:o,IDBKeyRange:u},c){!ys(o)&&c!==cn&&ms(o,u).delete(c).catch(X)})(this._deps,this.name),n()}),a.onerror=Ve(s),a.onblocked=this._fireOnBlocked};if(e)throw new F.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ue(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Au.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=M.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const i=e.indexOf("?")!==-1;let a,o;e=e.replace("!","").replace("?","");try{if(o=r.map(c=>{var l=c instanceof this.Table?c.name:c;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),e=="r"||e===xn)a=xn;else{if(e!="rw"&&e!=kn)throw new F.InvalidArgument("Invalid transaction mode: "+e);a=kn}if(s){if(s.mode===xn&&a===kn){if(!i)throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&o.forEach(c=>{if(s&&s.storeNames.indexOf(c)===-1){if(!i)throw new F.SubTransaction("Table "+c+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(c){return s?s._promise(null,(l,h)=>{h(c)}):le(c)}const u=Xi.bind(null,this,a,o,s,n);return s?s._promise(a,u,"lock"):M.trans?Bt(M.transless,()=>this._whenReady(u)):this._whenReady(u)}table(e){if(!Ee(this._allTables,e))throw new F.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Iu=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Du{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[Iu](){return this}}function ta(t,e){return ue(e).forEach(r=>{nn(t[r]||(t[r]=new Ue),e[r])}),t}function Nu(t){let e,r=!1;const n=new Du(s=>{const i=us(t);let a=!1,o={},u={};const c={get closed(){return a},unsubscribe:()=>{a=!0,ct.storagemutated.unsubscribe(m)}};s.start&&s.start(c);let l=!1,h=!1;function d(){return ue(u).some(v=>o[v]&&ju(o[v],u[v]))}const m=v=>{ta(o,v),d()&&b()},b=()=>{if(l||a)return;o={};const v={},w=function(g){i&&Mt();const p=()=>ot(t,{subscr:g,trans:null}),k=M.trans?Bt(M.transless,p):p();return i&&k.then(Je,Je),k}(v);h||(ct(dr,m),h=!0),l=!0,Promise.resolve(w).then(g=>{r=!0,e=g,l=!1,a||(d()?b():(o={},u=v,s.next&&s.next(g)))},g=>{l=!1,r=!1,s.error&&s.error(g),c.unsubscribe()})};return b(),c});return n.hasValue=()=>r,n.getValue=()=>e,n}let rs;try{rs={indexedDB:re.indexedDB||re.mozIndexedDB||re.webkitIndexedDB||re.msIndexedDB,IDBKeyRange:re.IDBKeyRange||re.webkitIDBKeyRange}}catch{rs={indexedDB:null,IDBKeyRange:null}}const lt=yt;function Nr(t){let e=ze;try{ze=!0,ct.storagemutated.fire(t)}finally{ze=e}}Vt(lt,{...Cr,delete:t=>new lt(t,{addons:[]}).delete(),exists:t=>new lt(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return ys(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==cn)):ms(e,r).toCollection().primaryKeys()}(lt.dependencies).then(t)}catch{return le(new F.MissingAPI)}},defineClass:()=>function(t){xe(this,t)},ignoreTransaction:t=>M.trans?Bt(M.transless,t):t(),vip:Xn,async:function(t){return function(){try{var e=es(t.apply(this,arguments));return e&&typeof e.then=="function"?e:I.resolve(e)}catch(r){return le(r)}}},spawn:function(t,e,r){try{var n=es(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:I.resolve(n)}catch(s){return le(s)}},currentTransaction:{get:()=>M.trans||null},waitFor:function(t,e){const r=I.resolve(typeof t=="function"?lt.ignoreTransaction(t):t).timeout(e||6e4);return M.trans?M.trans.waitFor(r):r},Promise:I,debug:{get:()=>Ke,set:t=>{Pi(t,t==="dexie"?()=>!0:zi)}},derive:jt,extend:xe,props:Vt,override:Si,Events:Wt,on:ct,liveQuery:Nu,extendObservabilitySet:ta,getByKeyPath:Ge,setByKeyPath:Ie,delByKeyPath:function(t,e){typeof e=="string"?Ie(t,e,void 0):"length"in e&&[].map.call(e,function(r){Ie(t,r,void 0)})},shallowClone:Ci,deepClone:gr,getObjectDiff:gs,cmp:be,asap:Ai,minKey:qn,addons:[],connections:zt,errnames:ls,dependencies:rs,semVer:Hs,version:Hs.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),lt.maxKey=fr(lt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ct(dr,t=>{if(!ze){let e;un?(e=document.createEvent("CustomEvent"),e.initCustomEvent(rt,!0,!0,t)):e=new CustomEvent(rt,{detail:t}),ze=!0,dispatchEvent(e),ze=!1}}),addEventListener(rt,({detail:t})=>{ze||Nr(t)}));let ze=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(rt);typeof t.unref=="function"&&t.unref(),ct(dr,e=>{ze||t.postMessage(e)}),t.onmessage=e=>{e.data&&Nr(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ct(dr,e=>{try{ze||(typeof localStorage<"u"&&localStorage.setItem(rt,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:rt,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===rt){const r=JSON.parse(e.newValue);r&&Nr(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===rt&&Nr(e.changedParts)})}I.rejectionMapper=function(t,e){if(!t||t instanceof Pt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Us[t.name])return t;var r=new Us[t.name](e||t.message,t);return"stack"in t&&He(r,"stack",{get:function(){return this.inner.stack}}),r},Pi(Ke,zi);class Vu extends yt{submitterData;processData;testResultData;constructor(){super("ictTestingDB"),this.version(1).stores({submitterData:"++id, agencyName",testResultData:"++id, testCaseId, testName, testComment"})}}const ri=new Vu,Mu=ie.object({results:ie.array(Oo)});function Wu({fields:t}){const e=async()=>{const a=await ri.testResultData.toArray();return t.map(o=>a?.find(c=>c.testId===o.data.id)||{id:void 0,testId:o.data.id,testCaseId:"",testName:"",testComment:""})},{register:r,handleSubmit:n,getValues:s}=Aa({mode:"onBlur",resolver:Po(Mu),defaultValues:async()=>({results:await e()})}),i=a=>{const o=s(`results.${a}`);ri.testResultData.put(o,o.id)};return J.jsxs("form",{onSubmit:n(a=>console.log({data:a})),children:[J.jsx("div",{className:"display-flex flex-column",style:{gap:"12px"},children:t.map((a,o)=>J.jsxs("div",{children:[J.jsxs("div",{className:"grid-row",children:[J.jsxs("div",{className:"grid-col-5",children:[J.jsxs("div",{children:[J.jsx("p",{className:"margin-bottom2 text-secondary fw-bold fs-6 text-uppercase",children:"Test ID"}),J.jsx("p",{children:J.jsx("a",{href:a.data.link,children:a.data.id})})]}),J.jsxs("div",{children:[J.jsx("p",{className:"margin-bottom2 text-secondary fw-bold fs-6 text-uppercase",children:"Test Description"}),J.jsx("p",{children:a.data.description})]}),J.jsxs("div",{children:[J.jsx("p",{className:"margin-bottom2 text-secondary fw-bold fs-6 text-uppercase",children:"Expected Results"}),J.jsx("p",{children:a.data.expectedResult})]})]}),J.jsx("div",{className:"grid-col-6 grid-offset-1",children:J.jsxs("div",{className:"display-flex flex-column",style:{gap:"12px"},children:[J.jsxs("div",{children:[J.jsx("label",{className:"usa-label",htmlFor:`testResult-${o}`,children:"Test Result"}),J.jsx("input",{className:"usa-input",id:`testResult-${o}`,type:"text",...r(`results.${o}.testCaseId`,{required:!0,onBlur:()=>i(o)})})]}),J.jsxs("div",{children:[J.jsx("label",{className:"usa-label",htmlFor:`testName-${o}`,children:"Test Process Name/ID"}),J.jsx("input",{className:"usa-input",id:`testName-${o}`,type:"text",...r(`results.${o}.testName`,{required:!0,onBlur:()=>i(o)})})]}),J.jsxs("div",{children:[J.jsx("label",{className:"usa-label",htmlFor:`testComment-${o}`,children:"Comment"}),J.jsx("textarea",{className:"usa-textarea",id:`testComment-${o}`,rows:4,...r(`results.${o}.testComment`,{required:!0,onBlur:()=>i(o)})})]})]})})]},o),J.jsx("div",{className:"padding-top-5",children:J.jsx("hr",{})})]},o))}),J.jsx("div",{className:"margin-top-3 display-flex",children:J.jsx("button",{className:"usa-button margin-left-auto",children:"Submit"})})]})}export{Ls as H,Wu as I,he as _,zu as a,$u as b,Uu as e,qu as i,Fo as m,Gr as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/create-report.MJzwK4Dk.js","_astro/jsx-runtime.G4i-1Giy.js","_astro/index.UCAuQZPX.js","_astro/home.0ct9BXc8.js","_astro/instructions.NU8wNDHq.js","_astro/license.ASxUKQsP.js","_astro/group-1.Vn-gOtpC.js","_astro/group-2.sYA6gogJ.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
